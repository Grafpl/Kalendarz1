<Window x:Class="Kalendarz1.PrognozyUboju.FormWyborKontrahentow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Wybór kontrahentów" 
        Height="600" Width="500"
        WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize"
        Background="#F5F7FA">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Nagłówek -->
        <Border Grid.Row="0" Background="#34495e" Padding="15">
            <StackPanel>
                <TextBlock Text="Wybór kontrahentów" 
                         FontSize="18" FontWeight="Bold" 
                         Foreground="White"/>
                <TextBlock Text="Zaznacz kontrahentów do uwzględnienia w analizie" 
                         FontSize="11" 
                         Foreground="#bdc3c7" 
                         Margin="0,5,0,0"/>
            </StackPanel>
        </Border>

        <!-- Panel wyszukiwania -->
        <Border Grid.Row="1" Background="White" 
                BorderBrush="#e0e0e0" BorderThickness="0,0,0,1"
                Padding="15,10">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <TextBlock Text="🔍 Szukaj:" 
                         VerticalAlignment="Center"
                         Margin="0,0,10,0"
                         FontWeight="Bold"/>
                <TextBox Grid.Column="1" 
                       x:Name="txtSzukaj"
                       Height="30"
                       VerticalContentAlignment="Center"
                       TextChanged="TxtSzukaj_TextChanged"/>
            </Grid>
        </Border>

        <!-- Lista kontrahentów -->
        <Border Grid.Row="2" Margin="10" 
                Background="White"
                BorderBrush="#e0e0e0" BorderThickness="1">
            <ScrollViewer VerticalScrollBarVisibility="Auto">
                <ItemsControl x:Name="listKontrahenci">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <Border BorderBrush="#ecf0f1" BorderThickness="0,0,0,1"
                                    Padding="10,8">
                                <CheckBox Content="{Binding Nazwa}"
                                        IsChecked="{Binding IsChecked, Mode=TwoWay}"
                                        FontSize="12"
                                        Cursor="Hand">
                                    <CheckBox.ToolTip>
                                        <ToolTip>
                                            <StackPanel>
                                                <TextBlock Text="{Binding Nazwa}" FontWeight="Bold"/>
                                                <TextBlock Text="{Binding Info}" FontSize="10"/>
                                            </StackPanel>
                                        </ToolTip>
                                    </CheckBox.ToolTip>
                                </CheckBox>
                            </Border>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Szybkie akcje -->
        <Border Grid.Row="3" Background="#ecf0f1" 
                Padding="15,10"
                BorderBrush="#bdc3c7" BorderThickness="0,1,0,0">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <Button Content="✓ Zaznacz wszystkich" 
                      Width="150" Height="30"
                      Margin="5"
                      Background="#27ae60"
                      Foreground="White"
                      BorderThickness="0"
                      Cursor="Hand"
                      Click="BtnZaznaczWszystkich_Click"/>
                <Button Content="✗ Odznacz wszystkich" 
                      Width="150" Height="30"
                      Margin="5"
                      Background="#95a5a6"
                      Foreground="White"
                      BorderThickness="0"
                      Cursor="Hand"
                      Click="BtnOdznaczWszystkich_Click"/>
            </StackPanel>
        </Border>

        <!-- Przyciski OK/Anuluj -->
        <Border Grid.Row="4" Background="White" 
                BorderBrush="#e0e0e0" BorderThickness="0,1,0,0"
                Padding="15,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                <TextBlock x:Name="txtLiczbaZaznaczonych"
                         Text="Zaznaczono: 0"
                         VerticalAlignment="Center"
                         Margin="0,0,20,0"
                         FontWeight="Bold"
                         Foreground="#3498db"/>

                <Button Content="✓ Zastosuj" 
                      Width="100" Height="35"
                      Margin="5"
                      Background="#3498db"
                      Foreground="White"
                      FontWeight="Bold"
                      BorderThickness="0"
                      Cursor="Hand"
                      Click="BtnZastosuj_Click"/>
                <Button Content="✗ Anuluj" 
                      Width="100" Height="35"
                      Margin="5"
                      Background="#95a5a6"
                      Foreground="White"
                      FontWeight="Bold"
                      BorderThickness="0"
                      Cursor="Hand"
                      Click="BtnAnuluj_Click"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>