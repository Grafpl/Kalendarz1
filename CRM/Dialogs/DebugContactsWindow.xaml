<Window x:Class="Kalendarz1.CRM.Dialogs.DebugContactsWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Debugger kontaktÃ³w" Height="650" Width="900"
        WindowStartupLocation="CenterOwner" WindowStyle="None" AllowsTransparency="True"
        Background="Transparent" ResizeMode="CanResize" MinWidth="600" MinHeight="400">

    <Window.Resources>
        <ResourceDictionary>
            <ResourceDictionary.MergedDictionaries>
                <ResourceDictionary Source="/CRM/Styles/GlassStyles.xaml"/>
            </ResourceDictionary.MergedDictionaries>
        </ResourceDictionary>
    </Window.Resources>

    <Border Background="#0d1117" CornerRadius="12" BorderBrush="#f59e0b" BorderThickness="1.5">
        <Grid>
            <!-- Title bar -->
            <Border Height="36" VerticalAlignment="Top" Background="Transparent"
                    MouseLeftButtonDown="Header_MouseLeftButtonDown">
                <Grid Margin="12,0">
                    <StackPanel Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="ðŸ” DEBUGGER" FontSize="12" FontWeight="Bold" Foreground="#f59e0b"/>
                        <TextBlock x:Name="txtTitle" Text="" FontSize="12" Foreground="#88FFFFFF" Margin="8,0,0,0"/>
                    </StackPanel>
                    <Button HorizontalAlignment="Right" Content="X" FontSize="12" Foreground="#66FFFFFF"
                            Style="{StaticResource GlassButton}" Padding="8,2" Click="BtnClose_Click"/>
                </Grid>
            </Border>

            <Grid Margin="12,40,12,12">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>  <!-- Config summary -->
                    <RowDefinition Height="Auto"/>  <!-- SQL params -->
                    <RowDefinition Height="*"/>     <!-- Contacts table -->
                    <RowDefinition Height="Auto"/>  <!-- Status bar -->
                </Grid.RowDefinitions>

                <!-- ========== CONFIG SUMMARY ========== -->
                <Border Grid.Row="0" Background="#18181f" CornerRadius="8" Padding="10,6" Margin="0,0,0,4">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>

                        <StackPanel Grid.Column="0">
                            <TextBlock Text="KONFIGURACJA" FontSize="9" FontWeight="Bold" Foreground="#f59e0b" Margin="0,0,0,3"/>
                            <TextBlock x:Name="txtConfigEnabled" FontSize="10" Foreground="#B3FFFFFF"/>
                            <TextBlock x:Name="txtConfigTimes" FontSize="10" Foreground="#B3FFFFFF"/>
                            <TextBlock x:Name="txtConfigCount" FontSize="10" Foreground="#B3FFFFFF"/>
                        </StackPanel>

                        <StackPanel Grid.Column="1">
                            <TextBlock Text="FILTRY" FontSize="9" FontWeight="Bold" Foreground="#58a6ff" Margin="0,0,0,3"/>
                            <TextBlock x:Name="txtConfigOnlyNew" FontSize="10" Foreground="#B3FFFFFF"/>
                            <TextBlock x:Name="txtConfigOnlyAssigned" FontSize="10" Foreground="#B3FFFFFF"/>
                            <TextBlock x:Name="txtConfigOnlyMyImports" FontSize="10" Foreground="#B3FFFFFF"/>
                        </StackPanel>

                        <StackPanel Grid.Column="2">
                            <TextBlock Text="TERYTORIUM / PKD" FontSize="9" FontWeight="Bold" Foreground="#a78bfa" Margin="0,0,0,3"/>
                            <TextBlock x:Name="txtConfigWoj" FontSize="10" Foreground="#B3FFFFFF" TextWrapping="Wrap"/>
                            <TextBlock x:Name="txtConfigPKD" FontSize="10" Foreground="#B3FFFFFF" TextWrapping="Wrap"/>
                            <TextBlock x:Name="txtConfigPKDWeight" FontSize="10" Foreground="#B3FFFFFF"/>
                        </StackPanel>
                    </Grid>
                </Border>

                <!-- ========== SQL PARAMS ========== -->
                <Border Grid.Row="1" Background="#1A1A24" CornerRadius="6" Padding="8,4" Margin="0,0,0,4">
                    <TextBlock x:Name="txtSqlParams" FontSize="9" Foreground="#667788" FontFamily="Consolas"
                               TextWrapping="Wrap"/>
                </Border>

                <!-- ========== CONTACTS TABLE ========== -->
                <Border Grid.Row="2" Background="#0C0C12" BorderBrush="#1E1E2A" BorderThickness="1" CornerRadius="8" ClipToBounds="True">
                    <DataGrid x:Name="dgContacts" AutoGenerateColumns="False"
                              Background="Transparent" BorderThickness="0"
                              GridLinesVisibility="Horizontal"
                              HorizontalGridLinesBrush="#0EFFFFFF"
                              RowBackground="Transparent"
                              AlternatingRowBackground="#05FFFFFF"
                              HeadersVisibility="Column"
                              CanUserAddRows="False" CanUserDeleteRows="False"
                              CanUserResizeRows="False"
                              IsReadOnly="True"
                              RowHeight="38"
                              ColumnHeaderHeight="28"
                              Foreground="White"
                              FontSize="11"
                              HorizontalScrollBarVisibility="Auto"
                              VerticalScrollBarVisibility="Auto">

                        <DataGrid.ColumnHeaderStyle>
                            <Style TargetType="DataGridColumnHeader">
                                <Setter Property="Background" Value="#0A0A10"/>
                                <Setter Property="Foreground" Value="#8899AA"/>
                                <Setter Property="FontSize" Value="9"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                                <Setter Property="Padding" Value="6,4"/>
                                <Setter Property="BorderBrush" Value="#14FFFFFF"/>
                                <Setter Property="BorderThickness" Value="0,0,0,1"/>
                            </Style>
                        </DataGrid.ColumnHeaderStyle>

                        <DataGrid.CellStyle>
                            <Style TargetType="DataGridCell">
                                <Setter Property="BorderThickness" Value="0"/>
                                <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
                            </Style>
                        </DataGrid.CellStyle>

                        <DataGrid.Columns>
                            <DataGridTextColumn Header="#" Width="30" Binding="{Binding Nr}" Foreground="#55FFFFFF"/>
                            <DataGridTextColumn Header="ID" Width="50" Binding="{Binding ID}" Foreground="#55FFFFFF"/>
                            <DataGridTextColumn Header="NAZWA" Width="200" Binding="{Binding Nazwa}" Foreground="White"/>
                            <DataGridTextColumn Header="TELEFON" Width="110" Binding="{Binding Telefon}" Foreground="#58a6ff"/>
                            <DataGridTextColumn Header="MIASTO" Width="100" Binding="{Binding Miasto}" Foreground="#B3FFFFFF"/>
                            <DataGridTextColumn Header="WOJ." Width="80" Binding="{Binding Wojewodztwo}" Foreground="#B3FFFFFF"/>
                            <DataGridTextColumn Header="PKD" Width="60" Binding="{Binding PKD}" Foreground="#a78bfa"/>
                            <DataGridTextColumn Header="STATUS" Width="100" Binding="{Binding Status}" Foreground="#f59e0b"/>
                            <DataGridTextColumn Header="BRANZA" Width="120" Binding="{Binding Branza}" Foreground="#55FFFFFF"/>
                            <DataGridTextColumn Header="IMPORT?" Width="55" Binding="{Binding IsImport}" Foreground="#55FFFFFF"/>
                            <DataGridTextColumn Header="IMPORTEDBY" Width="80" Binding="{Binding ImportedBy}" Foreground="#55FFFFFF"/>
                            <DataGridTextColumn Header="PRIORITY" Width="60" Binding="{Binding Priority}" Foreground="#3fb950"/>
                        </DataGrid.Columns>
                    </DataGrid>
                </Border>

                <!-- ========== STATUS BAR ========== -->
                <Border Grid.Row="3" Margin="0,4,0,0">
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <TextBlock x:Name="txtStatus" Grid.Column="0" FontSize="10" Foreground="#55FFFFFF" VerticalAlignment="Center"/>

                        <Button Grid.Column="1" Content="OdÅ›wieÅ¼" Style="{StaticResource GlassButton}"
                                FontSize="10" Foreground="#3fb950" Padding="10,4" Margin="0,0,6,0"
                                Click="BtnRefresh_Click"/>
                        <Button Grid.Column="2" Content="Zamknij" Style="{StaticResource GlassButton}"
                                FontSize="10" Foreground="#88FFFFFF" Padding="10,4"
                                Click="BtnClose_Click"/>
                    </Grid>
                </Border>
            </Grid>
        </Grid>
    </Border>
</Window>
