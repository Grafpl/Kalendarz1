<Window x:Class="Kalendarz1.CRM.Dialogs.CallResultDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Wynik rozmowy"
        Width="600" Height="700"
        WindowStartupLocation="CenterOwner"
        WindowStyle="None"
        AllowsTransparency="True"
        Background="Transparent"
        ResizeMode="NoResize">

    <Window.Resources>
        <SolidColorBrush x:Key="BgPrimaryBrush" Color="#0F172A"/>
        <SolidColorBrush x:Key="BgSecondaryBrush" Color="#1E293B"/>
        <SolidColorBrush x:Key="BgTertiaryBrush" Color="#334155"/>
        <SolidColorBrush x:Key="AccentGreenBrush" Color="#4CAF50"/>
        <SolidColorBrush x:Key="TextPrimaryBrush" Color="#E2E8F0"/>
        <SolidColorBrush x:Key="TextSecondaryBrush" Color="#94A3B8"/>
        <SolidColorBrush x:Key="BorderBrush" Color="#334155"/>

        <Style x:Key="RadioStyle" TargetType="RadioButton">
            <Setter Property="Foreground" Value="#E2E8F0"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Margin" Value="0,6"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="RadioButton">
                        <Border x:Name="bd" Background="#1E293B" CornerRadius="10" Padding="18,16">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <Grid Width="24" Height="24">
                                    <Ellipse x:Name="circle" Width="24" Height="24" Stroke="#64748B" StrokeThickness="2" Fill="Transparent"/>
                                    <Ellipse x:Name="dot" Width="14" Height="14" Fill="#4CAF50" Visibility="Collapsed"
                                             HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Grid>
                                <ContentPresenter Grid.Column="1" Margin="16,0,0,0" VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="circle" Property="Stroke" Value="#4CAF50"/>
                                <Setter TargetName="dot" Property="Visibility" Value="Visible"/>
                                <Setter TargetName="bd" Property="Background" Value="#1E3A2F"/>
                                <Setter TargetName="bd" Property="BorderBrush" Value="#2D5A3F"/>
                                <Setter TargetName="bd" Property="BorderThickness" Value="1"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#334155"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="ActionButton" TargetType="Button">
            <Setter Property="Background" Value="#4CAF50"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Padding" Value="32,14"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="bd" Background="{TemplateBinding Background}" CornerRadius="10" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="bd" Property="Background" Value="#66BB6A"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="CancelButton" TargetType="Button" BasedOn="{StaticResource ActionButton}">
            <Setter Property="Background" Value="#475569"/>
        </Style>
    </Window.Resources>

    <Border Background="{StaticResource BgPrimaryBrush}" CornerRadius="16" BorderThickness="1" BorderBrush="{StaticResource BorderBrush}">
        <Border.Effect>
            <DropShadowEffect ShadowDepth="0" Color="Black" Opacity="0.5" BlurRadius="30"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- Header -->
            <Border Grid.Row="0" Background="#166534" CornerRadius="16,16,0,0" Padding="28,22">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>
                    <Path Fill="White" Stretch="Uniform" Width="24" Height="24"
                          VerticalAlignment="Center" Margin="0,0,16,0"
                          Data="M6.62,10.79C8.06,13.62 10.38,15.94 13.21,17.38L15.41,15.18C15.69,14.9 16.08,14.82 16.43,14.93C17.55,15.3 18.75,15.5 20,15.5C20.55,15.5 21,15.95 21,16.5V20C21,20.55 20.55,21 20,21C10.61,21 3,13.39 3,4C3,3.45 3.45,3 4,3H7.5C8.05,3 8.5,3.45 8.5,4C8.5,5.25 8.7,6.45 9.07,7.57C9.18,7.92 9.1,8.31 8.82,8.59L6.62,10.79Z"/>
                    <StackPanel Grid.Column="1">
                        <TextBlock Text="Wynik rozmowy" FontSize="22" FontWeight="Bold" Foreground="White"/>
                        <TextBlock x:Name="txtContactName" Text="Nazwa firmy" FontSize="14" Foreground="#86EFAC" Margin="0,6,0,0" TextTrimming="CharacterEllipsis"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- Options -->
            <ScrollViewer Grid.Row="1" Padding="28,20" VerticalScrollBarVisibility="Auto">
                <StackPanel>
                    <TextBlock Text="Wybierz wynik rozmowy:" Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,0,14"/>

                    <RadioButton x:Name="rbNieOdebrano" Style="{StaticResource RadioStyle}" Content="ðŸ“µ  Nie odebrano" Tag="PrÃ³ba kontaktu"/>
                    <RadioButton x:Name="rbZajete" Style="{StaticResource RadioStyle}" Content="â³  ZajÄ™te / NiedostÄ™pny" Tag="PrÃ³ba kontaktu"/>
                    <RadioButton x:Name="rbZainteresowany" Style="{StaticResource RadioStyle}" Content="âœ…  Rozmowa - zainteresowany" Tag="Zgoda na dalszy kontakt"/>
                    <RadioButton x:Name="rbNiezainteresowany" Style="{StaticResource RadioStyle}" Content="âŒ  Rozmowa - niezainteresowany" Tag="Nie zainteresowany"/>
                    <RadioButton x:Name="rbUmowiono" Style="{StaticResource RadioStyle}" Content="ðŸ“…  Rozmowa - umÃ³wiono kontakt" Tag="Zgoda na dalszy kontakt"/>
                    <RadioButton x:Name="rbOferta" Style="{StaticResource RadioStyle}" Content="ðŸ“„  Do wysÅ‚ania oferta" Tag="Do wysÅ‚ania oferta"/>
                </StackPanel>
            </ScrollViewer>

            <!-- Note -->
            <Border Grid.Row="2" Background="{StaticResource BgSecondaryBrush}" Padding="28,18">
                <StackPanel>
                    <TextBlock Text="ðŸ“ KrÃ³tka notatka (opcjonalnie):" Foreground="{StaticResource TextSecondaryBrush}" FontSize="13" Margin="0,0,0,10"/>
                    <TextBox x:Name="txtNote" Background="{StaticResource BgTertiaryBrush}" Foreground="{StaticResource TextPrimaryBrush}"
                             BorderBrush="{StaticResource BorderBrush}" BorderThickness="1" Padding="14,12" FontSize="14"
                             TextWrapping="Wrap" AcceptsReturn="True" Height="90" CaretBrush="White"
                             VerticalScrollBarVisibility="Auto"/>
                </StackPanel>
            </Border>

            <!-- Buttons -->
            <Border Grid.Row="3" Background="{StaticResource BgSecondaryBrush}" CornerRadius="0,0,16,16" Padding="28,20">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="20"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button Content="Anuluj" Style="{StaticResource CancelButton}" Click="BtnCancel_Click"/>
                    <Button Grid.Column="2" Content="Zapisz" Style="{StaticResource ActionButton}" Click="BtnSave_Click"/>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
