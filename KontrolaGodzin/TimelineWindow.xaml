<Window x:Class="Kalendarz1.KontrolaGodzin.TimelineWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="ðŸ“Š Timeline - Grafik Zmian" 
        Height="800" Width="1400"
        WindowStartupLocation="CenterOwner"
        Background="#F5F7FA"
        FontFamily="Segoe UI"
        ResizeMode="CanResizeWithGrip">

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- NagÅ‚Ã³wek -->
        <Border Grid.Row="0" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,0,0,1" Padding="20,15">
            <Grid>
                <StackPanel>
                    <TextBlock Text="ðŸ“Š Timeline - Grafik Zmian" FontSize="18" FontWeight="Bold" Foreground="#1A202C"/>
                    <TextBlock x:Name="txtData" Text="20 grudnia 2025 (sobota)" FontSize="11" Foreground="#718096" Margin="0,3,0,0"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right" VerticalAlignment="Center">
                    <TextBlock Text="Data:" VerticalAlignment="Center" Margin="0,0,8,0" Foreground="#4A5568"/>
                    <DatePicker x:Name="dpData" Width="130" SelectedDateChanged="DpData_SelectedDateChanged"/>
                    <Button Content="â—€ Poprzedni" Margin="15,0,5,0" Padding="12,6" Click="BtnPoprzedni_Click"/>
                    <Button Content="DziÅ›" Padding="12,6" Click="BtnDzis_Click" Background="#3182CE" Foreground="White"/>
                    <Button Content="NastÄ™pny â–¶" Margin="5,0,0,0" Padding="12,6" Click="BtnNastepny_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Skala czasowa -->
        <Border Grid.Row="1" Background="#EDF2F7" Padding="0,8">
            <Grid Margin="200,0,20,0">
                <Canvas x:Name="canvasSkala" Height="25"/>
            </Grid>
        </Border>

        <!-- Timeline -->
        <ScrollViewer Grid.Row="2" VerticalScrollBarVisibility="Auto" HorizontalScrollBarVisibility="Disabled">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="200"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <!-- Lista pracownikÃ³w -->
                <Border Grid.Column="0" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,0,1,0">
                    <ItemsControl x:Name="listPracownicy">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#E2E8F0" BorderThickness="0,0,0,1" Padding="10,8">
                                    <Grid Height="32">
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Text="{Binding Pracownik}" FontSize="12" Foreground="#2D3748" FontWeight="SemiBold" 
                                                   TextTrimming="CharacterEllipsis"/>
                                        <TextBlock Grid.Row="1" Text="{Binding Grupa}" FontSize="10" Foreground="#718096" 
                                                   TextTrimming="CharacterEllipsis"/>
                                    </Grid>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Border>

                <!-- Paski czasowe -->
                <Border Grid.Column="1" Background="#FAFBFC">
                    <ItemsControl x:Name="listTimeline">
                        <ItemsControl.ItemTemplate>
                            <DataTemplate>
                                <Border BorderBrush="#E2E8F0" BorderThickness="0,0,0,1" Height="48">
                                    <Canvas x:Name="canvasPasek" Background="Transparent" Margin="0,8"/>
                                </Border>
                            </DataTemplate>
                        </ItemsControl.ItemTemplate>
                    </ItemsControl>
                </Border>
            </Grid>
        </ScrollViewer>

        <!-- Legenda -->
        <Border Grid.Row="3" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,1,0,0" Padding="20,10">
            <StackPanel Orientation="Horizontal" HorizontalAlignment="Center">
                <StackPanel Orientation="Horizontal" Margin="0,0,30,0">
                    <Border Width="20" Height="14" Background="#38A169" CornerRadius="3" Margin="0,0,8,0"/>
                    <TextBlock Text="ObecnoÅ›Ä‡" FontSize="11" Foreground="#4A5568" VerticalAlignment="Center"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,30,0">
                    <Border Width="20" Height="14" Background="#DD6B20" CornerRadius="3" Margin="0,0,8,0"/>
                    <TextBlock Text="Przerwa" FontSize="11" Foreground="#4A5568" VerticalAlignment="Center"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,30,0">
                    <Border Width="20" Height="14" Background="#805AD5" CornerRadius="3" Margin="0,0,8,0"/>
                    <TextBlock Text="Nadgodziny (&gt;8h)" FontSize="11" Foreground="#4A5568" VerticalAlignment="Center"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" Margin="0,0,30,0">
                    <Border Width="20" Height="14" Background="#3182CE" CornerRadius="3" Margin="0,0,8,0"/>
                    <TextBlock Text="Godziny nocne" FontSize="11" Foreground="#4A5568" VerticalAlignment="Center"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal">
                    <Border Width="20" Height="14" Background="#E53E3E" CornerRadius="3" Margin="0,0,8,0"/>
                    <TextBlock Text="Brak wyjÅ›cia" FontSize="11" Foreground="#4A5568" VerticalAlignment="Center"/>
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
