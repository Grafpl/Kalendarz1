<Window x:Class="Kalendarz1.KontrolaGodzin.UstawieniaStawekWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="âš™ï¸ Ustawienia Stawek i SkÅ‚adek" 
        Height="700" Width="900"
        WindowStartupLocation="CenterOwner"
        Background="#F5F7FA"
        FontFamily="Segoe UI"
        ResizeMode="CanResizeWithGrip">

    <Window.Resources>
        <Style x:Key="ModernButton" TargetType="Button">
            <Setter Property="Background" Value="#E8EDF3"/>
            <Setter Property="Foreground" Value="#2D3748"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="#CBD5E0"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}" 
                                BorderBrush="{TemplateBinding BorderBrush}" 
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="PrimaryButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#3182CE"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#2B6CB0"/>
        </Style>

        <Style x:Key="SuccessButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#38A169"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#2F855A"/>
        </Style>

        <Style x:Key="DangerButton" TargetType="Button" BasedOn="{StaticResource ModernButton}">
            <Setter Property="Background" Value="#E53E3E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="BorderBrush" Value="#C53030"/>
        </Style>

        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="White"/>
            <Setter Property="Foreground" Value="#2D3748"/>
            <Setter Property="BorderBrush" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="White"/>
            <Setter Property="AlternatingRowBackground" Value="#F7FAFC"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#E2E8F0"/>
            <Setter Property="RowHeaderWidth" Value="0"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="RowHeight" Value="32"/>
            <Setter Property="CanUserAddRows" Value="False"/>
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#EDF2F7"/>
            <Setter Property="Foreground" Value="#1A202C"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Padding" Value="10,8"/>
            <Setter Property="BorderBrush" Value="#E2E8F0"/>
            <Setter Property="BorderThickness" Value="0,0,1,2"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- NagÅ‚Ã³wek -->
        <Border Grid.Row="0" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,0,0,1" Padding="20,15">
            <Grid>
                <StackPanel>
                    <TextBlock Text="âš™ï¸ Ustawienia Stawek i SkÅ‚adek" FontSize="18" FontWeight="Bold" Foreground="#1A202C"/>
                    <TextBlock Text="Konfiguracja stawek godzinowych dla agencji i pracownikÃ³w wÅ‚asnych" FontSize="11" Foreground="#718096" Margin="0,3,0,0"/>
                </StackPanel>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="âž• Dodaj stawkÄ™" Style="{StaticResource PrimaryButton}" Click="BtnDodajStawke_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Tabela stawek -->
        <Border Grid.Row="1" Background="White" Margin="15" CornerRadius="8" BorderBrush="#E2E8F0" BorderThickness="1">
            <Grid>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="*"/>
                </Grid.RowDefinitions>

                <Border Grid.Row="0" Background="#EDF2F7" Padding="15,10">
                    <TextBlock Text="ðŸ’° STAWKI GODZINOWE" FontWeight="Bold" Foreground="#4A5568" FontSize="11"/>
                </Border>

                <DataGrid x:Name="gridStawki" Grid.Row="1" AutoGenerateColumns="False" 
                          SelectionMode="Single" CanUserDeleteRows="False">
                    <DataGrid.Columns>
                        <DataGridTextColumn Header="AGENCJA / DZIAÅ" Binding="{Binding Nazwa}" Width="180" IsReadOnly="True"/>
                        <DataGridTextColumn Header="STAWKA PODST." Binding="{Binding StawkaPodstawowa, StringFormat=N2}" Width="110"/>
                        <DataGridTextColumn Header="NADGODZINY %" Binding="{Binding MnoznikNadgodzin, StringFormat=P0}" Width="100"/>
                        <DataGridTextColumn Header="NOCNE %" Binding="{Binding MnoznikNocne, StringFormat=P0}" Width="90"/>
                        <DataGridTextColumn Header="ÅšWIÄ„TECZNE %" Binding="{Binding MnoznikSwiateczne, StringFormat=P0}" Width="100"/>
                        <DataGridTextColumn Header="OD DATY" Binding="{Binding OdDaty, StringFormat=dd.MM.yyyy}" Width="100"/>
                        <DataGridTextColumn Header="DO DATY" Binding="{Binding DoDaty, StringFormat=dd.MM.yyyy}" Width="100"/>
                        <DataGridTemplateColumn Header="AKCJE" Width="80">
                            <DataGridTemplateColumn.CellTemplate>
                                <DataTemplate>
                                    <StackPanel Orientation="Horizontal">
                                        <Button Content="âœï¸" Padding="5,2" Margin="0,0,3,0" 
                                                Click="BtnEdytujStawke_Click" Tag="{Binding}"/>
                                        <Button Content="ðŸ—‘ï¸" Padding="5,2" 
                                                Click="BtnUsunStawke_Click" Tag="{Binding}"/>
                                    </StackPanel>
                                </DataTemplate>
                            </DataGridTemplateColumn.CellTemplate>
                        </DataGridTemplateColumn>
                    </DataGrid.Columns>
                </DataGrid>
            </Grid>
        </Border>

        <!-- SkÅ‚adki ZUS -->
        <Border Grid.Row="2" Background="White" Margin="15,0,15,15" CornerRadius="8" Padding="20" BorderBrush="#E2E8F0" BorderThickness="1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <TextBlock Grid.ColumnSpan="4" Text="ðŸ“‹ SKÅADKI I NARZUTY (dla wÅ‚asnych pracownikÃ³w)" FontWeight="Bold" Foreground="#4A5568" FontSize="11" Margin="0,0,0,15"/>

                <StackPanel Grid.Row="1" Grid.Column="0" Margin="0,0,15,0">
                    <TextBlock Text="ZUS pracownik %" FontSize="11" Foreground="#718096"/>
                    <TextBox x:Name="txtZusPracownik" Text="13.71" Margin="0,5,0,0" Padding="8,6"/>
                </StackPanel>
                <StackPanel Grid.Row="1" Grid.Column="1" Margin="0,0,15,0">
                    <TextBlock Text="ZUS pracodawca %" FontSize="11" Foreground="#718096"/>
                    <TextBox x:Name="txtZusPracodawca" Text="20.48" Margin="0,5,0,0" Padding="8,6"/>
                </StackPanel>
                <StackPanel Grid.Row="1" Grid.Column="2" Margin="0,0,15,0">
                    <TextBlock Text="Podatek PIT %" FontSize="11" Foreground="#718096"/>
                    <TextBox x:Name="txtPodatek" Text="12.00" Margin="0,5,0,0" Padding="8,6"/>
                </StackPanel>
                <StackPanel Grid.Row="1" Grid.Column="3">
                    <TextBlock Text="Kwota wolna (mies.)" FontSize="11" Foreground="#718096"/>
                    <TextBox x:Name="txtKwotaWolna" Text="300.00" Margin="0,5,0,0" Padding="8,6"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Stopka -->
        <Border Grid.Row="3" Background="White" BorderBrush="#E2E8F0" BorderThickness="0,1,0,0" Padding="20,12">
            <Grid>
                <TextBlock Text="ðŸ’¡ Stawki sÄ… przypisywane automatycznie na podstawie nazwy dziaÅ‚u/agencji" 
                           FontSize="10" Foreground="#718096" VerticalAlignment="Center"/>
                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Anuluj" Style="{StaticResource ModernButton}" Margin="0,0,10,0" Click="BtnAnuluj_Click"/>
                    <Button Content="ðŸ’¾ Zapisz ustawienia" Style="{StaticResource SuccessButton}" Click="BtnZapisz_Click"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
