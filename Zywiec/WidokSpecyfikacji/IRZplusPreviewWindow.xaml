<Window x:Class="Kalendarz1.IRZplusPreviewWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="IRZplus - Podglad i wyslanie zgloszenia"
        Height="750" Width="1100"
        MinHeight="600" MinWidth="900"
        WindowStartupLocation="CenterScreen"
        Background="#F5F5F5">

    <Window.Resources>
        <Style x:Key="PrimaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#1976D2"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="20,10"/>
            <Setter Property="Margin" Value="5,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="14"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#1565C0"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#0D47A1"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#BDBDBD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SendButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#388E3C"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="25,12"/>
            <Setter Property="Margin" Value="5,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="15"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#2E7D32"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter Property="Background" Value="#1B5E20"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Background" Value="#BDBDBD"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SecondaryButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#757575"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="5,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#616161"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="WarningButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#F57C00"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="Margin" Value="5,0"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border Background="{TemplateBinding Background}"
                                CornerRadius="4"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Background" Value="#EF6C00"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Naglowek -->
        <Border Grid.Row="0" Background="#1976D2" Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel>
                    <TextBlock Text="IRZplus - Zgloszenie uboju drobiu"
                               FontSize="22" FontWeight="Bold" Foreground="White"/>
                    <TextBlock x:Name="txtSubtitle" Text="Podglad danych przed wyslaniem do ARiMR"
                               FontSize="13" Foreground="#BBDEFB" Margin="0,3,0,0"/>
                </StackPanel>
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <Border x:Name="borderEnv" Background="#FF9800" CornerRadius="3" Padding="10,5" Margin="0,0,10,0">
                        <TextBlock x:Name="txtEnvironment" Text="SRODOWISKO TESTOWE" FontSize="11" FontWeight="Bold" Foreground="White"/>
                    </Border>
                    <Button Content="Ustawienia" Click="BtnSettings_Click" Style="{StaticResource SecondaryButtonStyle}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- Panel podsumowania -->
        <Border Grid.Row="1" Background="White" Padding="20" BorderBrush="#E0E0E0" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <StackPanel Margin="0,0,40,0">
                        <TextBlock Text="Data uboju:" FontSize="12" Foreground="#757575"/>
                        <TextBlock x:Name="txtDataUboju" Text="-" FontSize="18" FontWeight="Bold" Foreground="#1976D2"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,40,0">
                        <TextBlock Text="Liczba dostawcow:" FontSize="12" Foreground="#757575"/>
                        <TextBlock x:Name="txtLiczbaDostawcow" Text="0" FontSize="18" FontWeight="Bold" Foreground="#424242"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,40,0">
                        <TextBlock Text="Suma sztuk:" FontSize="12" Foreground="#757575"/>
                        <TextBlock x:Name="txtSumaSztuk" Text="0" FontSize="18" FontWeight="Bold" Foreground="#424242"/>
                    </StackPanel>
                    <StackPanel Margin="0,0,40,0">
                        <TextBlock Text="Suma wagi netto:" FontSize="12" Foreground="#757575"/>
                        <TextBlock x:Name="txtSumaWagi" Text="0 kg" FontSize="18" FontWeight="Bold" Foreground="#424242"/>
                    </StackPanel>
                    <StackPanel>
                        <TextBlock Text="Suma padlych:" FontSize="12" Foreground="#757575"/>
                        <TextBlock x:Name="txtSumaPadlych" Text="0" FontSize="18" FontWeight="Bold" Foreground="#D32F2F"/>
                    </StackPanel>
                </StackPanel>

                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <Button Content="Zaznacz wszystkie" Click="BtnSelectAll_Click" Style="{StaticResource SecondaryButtonStyle}"/>
                    <Button Content="Odznacz wszystkie" Click="BtnDeselectAll_Click" Style="{StaticResource SecondaryButtonStyle}"/>
                    <Button Content="Odswiez" Click="BtnRefresh_Click" Style="{StaticResource PrimaryButtonStyle}"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- DataGrid ze specyfikacjami -->
        <DataGrid x:Name="dgSpecyfikacje" Grid.Row="2"
                  AutoGenerateColumns="False"
                  IsReadOnly="False"
                  SelectionMode="Extended"
                  SelectionUnit="FullRow"
                  CanUserSortColumns="True"
                  GridLinesVisibility="Horizontal"
                  AlternatingRowBackground="#FAFAFA"
                  RowBackground="White"
                  BorderBrush="#E0E0E0"
                  BorderThickness="0"
                  Margin="10">

            <DataGrid.ColumnHeaderStyle>
                <Style TargetType="DataGridColumnHeader">
                    <Setter Property="Background" Value="#ECEFF1"/>
                    <Setter Property="Foreground" Value="#37474F"/>
                    <Setter Property="FontWeight" Value="SemiBold"/>
                    <Setter Property="Padding" Value="10,8"/>
                    <Setter Property="BorderBrush" Value="#CFD8DC"/>
                    <Setter Property="BorderThickness" Value="0,0,1,1"/>
                </Style>
            </DataGrid.ColumnHeaderStyle>

            <DataGrid.CellStyle>
                <Style TargetType="DataGridCell">
                    <Setter Property="Padding" Value="8,6"/>
                    <Setter Property="BorderThickness" Value="0"/>
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="DataGridCell">
                                <Border Background="{TemplateBinding Background}"
                                        Padding="{TemplateBinding Padding}">
                                    <ContentPresenter VerticalAlignment="Center"/>
                                </Border>
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                    <Style.Triggers>
                        <Trigger Property="IsSelected" Value="True">
                            <Setter Property="Background" Value="#E3F2FD"/>
                            <Setter Property="Foreground" Value="#1565C0"/>
                        </Trigger>
                    </Style.Triggers>
                </Style>
            </DataGrid.CellStyle>

            <DataGrid.Columns>
                <!-- Kolumna wyboru -->
                <DataGridCheckBoxColumn Header="" Binding="{Binding Wybrana, UpdateSourceTrigger=PropertyChanged}" Width="35"/>
                <!-- B: Hodowca -->
                <DataGridTextColumn Header="Hodowca" Binding="{Binding Hodowca}" Width="160" IsReadOnly="True"/>
                <!-- C: Id na produkcji -->
                <DataGridTextColumn Header="Id Hodowcy" Binding="{Binding IdHodowcy}" Width="80" IsReadOnly="True"/>
                <!-- D: IRZ PLUS -->
                <DataGridTextColumn Header="IRZ PLUS" Binding="{Binding IRZPlus}" Width="130" IsReadOnly="True">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="Foreground" Value="#1565C0"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <!-- E: Numer Partii -->
                <DataGridTextColumn Header="Numer Partii" Binding="{Binding NumerPartii}" Width="90" IsReadOnly="True"/>
                <!-- F: Liczba Sztuk Drobiu (zdatne) -->
                <DataGridTextColumn Header="Liczba Sztuk" Binding="{Binding LiczbaSztukDrobiu, StringFormat=N0}" Width="90" IsReadOnly="True">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="FontWeight" Value="Bold"/>
                            <Setter Property="HorizontalAlignment" Value="Right"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <!-- G: Typ Zdarzenia -->
                <DataGridTextColumn Header="Typ Zdarzenia" Binding="{Binding TypZdarzenia}" Width="170" IsReadOnly="True"/>
                <!-- H: Data zdarzenia -->
                <DataGridTextColumn Header="Data Zdarzenia" Binding="{Binding DataZdarzenia, StringFormat='{}{0:dd-MM-yyyy}'}" Width="100" IsReadOnly="True"/>
                <!-- I: Kraj Wywozu -->
                <DataGridTextColumn Header="Kraj" Binding="{Binding KrajWywozu}" Width="50" IsReadOnly="True"/>
                <!-- J: Przyjete z dzialalnosci (obliczane) -->
                <DataGridTextColumn Header="Przyjete z dzialalnosci" Binding="{Binding PrzyjetaZDzialalnosci}" Width="160" IsReadOnly="True">
                    <DataGridTextColumn.ElementStyle>
                        <Style TargetType="TextBlock">
                            <Setter Property="Foreground" Value="#388E3C"/>
                        </Style>
                    </DataGridTextColumn.ElementStyle>
                </DataGridTextColumn>
                <!-- K: nr.dok.Arimr (edytowalne) -->
                <DataGridTextColumn Header="nr.dok.Arimr" Binding="{Binding NrDokArimr, UpdateSourceTrigger=PropertyChanged}" Width="120"/>
                <!-- L: przybycie (edytowalne) -->
                <DataGridTextColumn Header="przybycie" Binding="{Binding Przybycie, UpdateSourceTrigger=PropertyChanged}" Width="120"/>
                <!-- M: padniecia (edytowalne) -->
                <DataGridTextColumn Header="padniecia" Binding="{Binding Padniecia, UpdateSourceTrigger=PropertyChanged}" Width="120"/>
            </DataGrid.Columns>
        </DataGrid>

        <!-- Panel walidacji/ostrzezen -->
        <Border x:Name="borderWarnings" Grid.Row="3" Background="#FFF3E0" Padding="15" Margin="10,0,10,10"
                BorderBrush="#FFB74D" BorderThickness="1" CornerRadius="4" Visibility="Collapsed">
            <StackPanel>
                <TextBlock Text="Ostrzezenia:" FontWeight="Bold" Foreground="#E65100" Margin="0,0,0,5"/>
                <TextBlock x:Name="txtWarnings" TextWrapping="Wrap" Foreground="#E65100"/>
            </StackPanel>
        </Border>

        <!-- Panel akcji -->
        <Border Grid.Row="4" Background="#ECEFF1" Padding="20,15">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Orientation="Horizontal">
                    <TextBlock x:Name="txtStatus" Text="Gotowe do wyslania" VerticalAlignment="Center" FontSize="14" Foreground="#616161"/>
                    <ProgressBar x:Name="progressBar" Width="200" Height="20" Margin="20,0,0,0" Visibility="Collapsed"/>
                </StackPanel>

                <StackPanel Grid.Column="1" Orientation="Horizontal">
                    <Button Content="Zapisz lokalna kopie" Click="BtnSaveLocal_Click" Style="{StaticResource WarningButtonStyle}"/>
                    <Button x:Name="btnSend" Content="Wyslij do IRZplus" Click="BtnSend_Click" Style="{StaticResource SendButtonStyle}"/>
                    <Button Content="Anuluj" Click="BtnCancel_Click" Style="{StaticResource SecondaryButtonStyle}"/>
                </StackPanel>
            </Grid>
        </Border>
    </Grid>
</Window>
