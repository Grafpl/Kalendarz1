<Window x:Class="Kalendarz1.Zywiec.Kalendarz.WidokKalendarzaWPF"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="Kalendarz Dostaw - Harmonogram Å»ywca"
        Height="950" Width="1920"
        WindowStartupLocation="CenterScreen"
        WindowState="Maximized"
        Background="#ECEFF1"
        FontFamily="Segoe UI"
        Loaded="Window_Loaded">

    <Window.Resources>
        <!-- ==================== STYLE PRZYCISKÃ“W ==================== -->
        <Style x:Key="MainButtonStyle" TargetType="Button">
            <Setter Property="Background" Value="#5C8A3A"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                CornerRadius="6"
                                Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                            <Border.Effect>
                                <DropShadowEffect ShadowDepth="2" Color="#000000" Opacity="0.15" BlurRadius="6"/>
                            </Border.Effect>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#4B732F"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3A5C24"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Background" Value="#CCCCCC"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="NavButtonStyle" TargetType="Button" BasedOn="{StaticResource MainButtonStyle}">
            <Setter Property="Background" Value="#34495E"/>
            <Setter Property="Width" Value="40"/>
            <Setter Property="Height" Value="40"/>
            <Setter Property="FontSize" Value="16"/>
            <Setter Property="Padding" Value="0"/>
        </Style>

        <Style x:Key="ActionButtonStyle" TargetType="Button" BasedOn="{StaticResource MainButtonStyle}">
            <Setter Property="Background" Value="#3498DB"/>
        </Style>

        <Style x:Key="DangerButtonStyle" TargetType="Button" BasedOn="{StaticResource MainButtonStyle}">
            <Setter Property="Background" Value="#E74C3C"/>
        </Style>

        <!-- ==================== STYLE CHECKBOX ==================== -->
        <Style x:Key="FilterCheckBoxStyle" TargetType="CheckBox">
            <Setter Property="Foreground" Value="#2C3E50"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Margin" Value="8,0"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
        </Style>

        <!-- ==================== STYLE DATAGRID ==================== -->
        <Style x:Key="DataGridHeaderStyle" TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="#34495E"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Padding" Value="8,10"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="BorderBrush" Value="#2C3E50"/>
            <Setter Property="BorderThickness" Value="0,0,1,0"/>
        </Style>

        <Style x:Key="DataGridCellStyle" TargetType="DataGridCell">
            <Setter Property="Padding" Value="6,4"/>
            <Setter Property="BorderThickness" Value="0,0,1,0"/>
            <Setter Property="BorderBrush" Value="#E0E0E0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Style.Triggers>
                <Trigger Property="IsSelected" Value="True">
                    <Setter Property="Background" Value="#B3E5FC"/>
                    <Setter Property="Foreground" Value="#2C3E50"/>
                </Trigger>
            </Style.Triggers>
        </Style>

        <Style x:Key="MainDataGridStyle" TargetType="DataGrid">
            <Setter Property="AutoGenerateColumns" Value="False"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="CanUserReorderColumns" Value="False"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HorizontalGridLinesBrush" Value="#E0E0E0"/>
            <Setter Property="RowHeight" Value="32"/>
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="ColumnHeaderStyle" Value="{StaticResource DataGridHeaderStyle}"/>
            <Setter Property="CellStyle" Value="{StaticResource DataGridCellStyle}"/>
            <Setter Property="AlternatingRowBackground" Value="#FAFAFA"/>
            <Setter Property="RowHeaderWidth" Value="0"/>
        </Style>

        <!-- ==================== STYLE GRUPBOX ==================== -->
        <Style x:Key="ModernGroupBoxStyle" TargetType="GroupBox">
            <Setter Property="Background" Value="White"/>
            <Setter Property="BorderBrush" Value="#DDDDDD"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="Padding" Value="8"/>
            <Setter Property="HeaderTemplate">
                <Setter.Value>
                    <DataTemplate>
                        <TextBlock Text="{Binding}" FontWeight="SemiBold" FontSize="13" Foreground="#2C3E50"/>
                    </DataTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- ==================== STYLE STATUSÃ“W - KOLORY WIERSZY ==================== -->
        <!-- Potwierdzony = Zielony -->
        <SolidColorBrush x:Key="StatusPotwierdzonyBrush" Color="#C8E6C9"/>
        <!-- Anulowany = Czerwony -->
        <SolidColorBrush x:Key="StatusAnulowanyBrush" Color="#FFCDD2"/>
        <!-- Sprzedany = Niebieski -->
        <SolidColorBrush x:Key="StatusSprzedanyBrush" Color="#BBDEFB"/>
        <!-- B.Kontr. = Fioletowy -->
        <SolidColorBrush x:Key="StatusBKontrBrush" Color="#7E57C2"/>
        <!-- B.Wolny = Å»Ã³Å‚ty -->
        <SolidColorBrush x:Key="StatusBWolnyBrush" Color="#FFF9C4"/>
        <!-- Do Wykupienia = Szary -->
        <SolidColorBrush x:Key="StatusDoWykupieniaBrush" Color="#F5F5F5"/>
        <!-- NagÅ‚Ã³wek dnia = Ciemny -->
        <SolidColorBrush x:Key="HeaderDayBrush" Color="#37474F"/>

    </Window.Resources>

    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" MinWidth="600"/>
            <ColumnDefinition Width="280"/>
        </Grid.ColumnDefinitions>

        <!-- ==================== LEWA STRONA - TABELA DOSTAW ==================== -->
        <Grid Grid.Column="0">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- PASEK FILTRÃ“W -->
            <Border Grid.Row="0" Background="White" Padding="12,8" Margin="8,8,4,4"
                    BorderBrush="#DDDDDD" BorderThickness="1" CornerRadius="6">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="1" Color="#000000" Opacity="0.1" BlurRadius="4"/>
                </Border.Effect>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                    </Grid.ColumnDefinitions>

                    <!-- Filtry checkbox -->
                    <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="Filtry:" FontWeight="SemiBold" Foreground="#2C3E50"
                                   VerticalAlignment="Center" Margin="0,0,12,0"/>
                        <CheckBox x:Name="chkAnulowane" Content="Anulowane"
                                  Style="{StaticResource FilterCheckBoxStyle}"
                                  Checked="Filter_Changed" Unchecked="Filter_Changed"/>
                        <CheckBox x:Name="chkSprzedane" Content="Sprzedane"
                                  Style="{StaticResource FilterCheckBoxStyle}"
                                  Checked="Filter_Changed" Unchecked="Filter_Changed"/>
                        <CheckBox x:Name="chkDoWykupienia" Content="Do Wykupienia" IsChecked="True"
                                  Style="{StaticResource FilterCheckBoxStyle}"
                                  Checked="Filter_Changed" Unchecked="Filter_Changed"/>
                        <CheckBox x:Name="chkPokazCeny" Content="PokaÅ¼ ceny" IsChecked="True"
                                  Style="{StaticResource FilterCheckBoxStyle}"
                                  Checked="Filter_Changed" Unchecked="Filter_Changed"/>
                    </StackPanel>

                    <!-- Info uÅ¼ytkownik -->
                    <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                        <TextBlock Text="UÅ¼ytkownik:" Foreground="#7F8C8D" Margin="0,0,6,0" VerticalAlignment="Center"/>
                        <TextBlock x:Name="txtUserName" Text="-" FontWeight="SemiBold" Foreground="#2C3E50" VerticalAlignment="Center"/>
                    </StackPanel>
                </Grid>
            </Border>

            <!-- TABELA DOSTAW -->
            <DataGrid x:Name="dgDostawy" Grid.Row="1"
                      Style="{StaticResource MainDataGridStyle}"
                      Margin="8,4,4,8"
                      SelectionChanged="DgDostawy_SelectionChanged"
                      MouseDoubleClick="DgDostawy_MouseDoubleClick"
                      LoadingRow="DgDostawy_LoadingRow">
                <DataGrid.Effect>
                    <DropShadowEffect ShadowDepth="2" Color="#000000" Opacity="0.1" BlurRadius="8"/>
                </DataGrid.Effect>
                <DataGrid.Columns>
                    <!-- LP - ukryta -->
                    <DataGridTextColumn Header="LP" Binding="{Binding LP}" Visibility="Collapsed"/>

                    <!-- Data -->
                    <DataGridTextColumn Header="Data" Binding="{Binding DataOdbioru, StringFormat=yyyy-MM-dd ddd}"
                                        Width="100" IsReadOnly="True"/>

                    <!-- Dostawca -->
                    <DataGridTextColumn Header="Dostawca" Binding="{Binding Dostawca}"
                                        Width="140" IsReadOnly="True"/>

                    <!-- Auta -->
                    <DataGridTextColumn Header="A" Binding="{Binding Auta}"
                                        Width="35" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                                <Setter Property="FontWeight" Value="SemiBold"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- Sztuki -->
                    <DataGridTextColumn Header="Sztuki" Binding="{Binding SztukiDekDisplay}"
                                        Width="85" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Right"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- Waga -->
                    <DataGridTextColumn Header="Waga" Binding="{Binding WagaDekDisplay}"
                                        Width="70" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Right"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- Doby -->
                    <DataGridTextColumn Header="Doby" Binding="{Binding RoznicaDniDisplay}"
                                        Width="55" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Center"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- Typ Ceny -->
                    <DataGridTextColumn Header="Typ" Binding="{Binding TypCeny}"
                                        Width="75" IsReadOnly="True"/>

                    <!-- Cena -->
                    <DataGridTextColumn x:Name="colCena" Header="Cena" Binding="{Binding CenaDisplay}"
                                        Width="65" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Right"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- KM -->
                    <DataGridTextColumn Header="KM" Binding="{Binding KmDisplay}"
                                        Width="55" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="HorizontalAlignment" Value="Right"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- Uwagi -->
                    <DataGridTextColumn Header="Uwagi" Binding="{Binding Uwagi}"
                                        Width="*" MinWidth="150" IsReadOnly="True">
                        <DataGridTextColumn.ElementStyle>
                            <Style TargetType="TextBlock">
                                <Setter Property="TextTrimming" Value="CharacterEllipsis"/>
                                <Setter Property="ToolTip" Value="{Binding Uwagi}"/>
                            </Style>
                        </DataGridTextColumn.ElementStyle>
                    </DataGridTextColumn>

                    <!-- Checkbox potwierdzenia -->
                    <DataGridCheckBoxColumn Header="âœ“" Binding="{Binding IsConfirmed, UpdateSourceTrigger=PropertyChanged}"
                                            Width="35"/>

                    <!-- Checkbox wstawienia -->
                    <DataGridCheckBoxColumn Header="W" Binding="{Binding IsWstawienieConfirmed, UpdateSourceTrigger=PropertyChanged}"
                                            Width="35"/>

                    <!-- Status - ukryty -->
                    <DataGridTextColumn Header="Status" Binding="{Binding Bufor}" Visibility="Collapsed"/>
                </DataGrid.Columns>
            </DataGrid>
        </Grid>

        <!-- ==================== PRAWA STRONA - KALENDARZ I NAWIGACJA ==================== -->
        <Grid Grid.Column="1" Margin="4,8,8,8">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- NUMER TYGODNIA -->
            <Border Grid.Row="0" Background="White" CornerRadius="8" Padding="16,12" Margin="0,0,0,8">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="2" Color="#000000" Opacity="0.1" BlurRadius="6"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="TYDZIEÅƒ" FontSize="11" Foreground="#7F8C8D"
                               HorizontalAlignment="Center" FontWeight="SemiBold"/>
                    <TextBlock x:Name="txtWeekNumber" Text="1" FontSize="36" FontWeight="Bold"
                               Foreground="#2C3E50" HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- NAWIGACJA TYGODNIOWA -->
            <Border Grid.Row="1" Background="White" CornerRadius="8" Padding="12" Margin="0,0,0,8">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="2" Color="#000000" Opacity="0.1" BlurRadius="6"/>
                </Border.Effect>
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*"/>
                        <ColumnDefinition Width="Auto"/>
                        <ColumnDefinition Width="*"/>
                    </Grid.ColumnDefinitions>

                    <Button Grid.Column="0" Content="â—€ TydzieÅ„" Style="{StaticResource NavButtonStyle}"
                            Width="90" Click="BtnPreviousWeek_Click"/>
                    <Button Grid.Column="1" Content="DziÅ›" Style="{StaticResource MainButtonStyle}"
                            Margin="8,0" Click="BtnToday_Click"/>
                    <Button Grid.Column="2" Content="TydzieÅ„ â–¶" Style="{StaticResource NavButtonStyle}"
                            Width="90" Click="BtnNextWeek_Click"/>
                </Grid>
            </Border>

            <!-- KALENDARZ -->
            <Border Grid.Row="2" Background="White" CornerRadius="8" Padding="8" Margin="0,0,0,8">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="2" Color="#000000" Opacity="0.1" BlurRadius="6"/>
                </Border.Effect>
                <Calendar x:Name="calendarMain"
                          HorizontalAlignment="Center"
                          SelectedDatesChanged="CalendarMain_SelectedDatesChanged"
                          DisplayDateChanged="CalendarMain_DisplayDateChanged"/>
            </Border>

            <!-- PRZYCISKI AKCJI DLA WYBRANEJ DOSTAWY -->
            <Border Grid.Row="3" Background="White" CornerRadius="8" Padding="12" VerticalAlignment="Top">
                <Border.Effect>
                    <DropShadowEffect ShadowDepth="2" Color="#000000" Opacity="0.1" BlurRadius="6"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="AKCJE DOSTAWY" FontSize="11" Foreground="#7F8C8D"
                               FontWeight="SemiBold" Margin="0,0,0,12"/>

                    <!-- Przyciski zmiany daty -->
                    <Grid Margin="0,0,0,8">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Button Grid.Column="0" Content="â–² DzieÅ„" Style="{StaticResource ActionButtonStyle}"
                                Click="BtnDateUp_Click" Margin="0,0,4,0"/>
                        <Button Grid.Column="1" Content="â–¼ DzieÅ„" Style="{StaticResource ActionButtonStyle}"
                                Click="BtnDateDown_Click" Margin="4,0,0,0"/>
                    </Grid>

                    <Button Content="âž• Nowa dostawa" Style="{StaticResource MainButtonStyle}"
                            Click="BtnNowaDostawa_Click" Margin="0,4"/>
                    <Button Content="ðŸ“‹ Duplikuj" Style="{StaticResource ActionButtonStyle}"
                            Click="BtnDuplikuj_Click" Margin="0,4"/>
                    <Button Content="ðŸ”„ OdÅ›wieÅ¼" Style="{StaticResource ActionButtonStyle}"
                            Click="BtnRefresh_Click" Margin="0,4"/>
                    <Button x:Name="btnUsun" Content="ðŸ—‘ UsuÅ„" Style="{StaticResource DangerButtonStyle}"
                            Click="BtnUsun_Click" Margin="0,4"/>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</Window>
