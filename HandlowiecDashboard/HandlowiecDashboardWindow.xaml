<Window x:Class="Kalendarz1.HandlowiecDashboard.Views.HandlowiecDashboardWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid"
        xmlns:dxc="http://schemas.devexpress.com/winfx/2008/xaml/charts"
        xmlns:dxmvvm="http://schemas.devexpress.com/winfx/2008/xaml/mvvm"
        Title="Dashboard Handlowca" Height="850" Width="1300"
        WindowStartupLocation="CenterScreen" WindowState="Maximized" Background="#1A1D21">

    <Window.Resources>
        <BooleanToVisibilityConverter x:Key="BoolToVisibilityConverter"/>

        <SolidColorBrush x:Key="BackgroundDarkBrush" Color="#1A1D21"/>
        <SolidColorBrush x:Key="CardBackgroundBrush" Color="#252A31"/>
        <SolidColorBrush x:Key="CardBackgroundLightBrush" Color="#2D333B"/>
        <SolidColorBrush x:Key="AccentOrangeBrush" Color="#C0392B"/>
        <SolidColorBrush x:Key="TextPrimaryBrush" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextSecondaryBrush" Color="#8B949E"/>
        <SolidColorBrush x:Key="BorderColorBrush" Color="#30363D"/>

        <!-- DevExpress Dark Theme Overrides -->
        <Style x:Key="DarkComboBoxStyle" TargetType="dxe:ComboBoxEdit">
            <Setter Property="Background" Value="#000000"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderBrush" Value="#444444"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="MinWidth" Value="100"/>
            <Setter Property="ShowBorder" Value="True"/>
            <Setter Property="PopupContentTemplate">
                <Setter.Value>
                    <ControlTemplate>
                        <Border Background="#000000">
                            <ContentPresenter/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="DarkButtonStyle" TargetType="dx:SimpleButton">
            <Setter Property="Background" Value="{StaticResource AccentOrangeBrush}"/>
            <Setter Property="Foreground" Value="#1A1D21"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="15,8"/>
            <Setter Property="FontWeight" Value="SemiBold"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <Style x:Key="SmallButtonStyle" TargetType="dx:SimpleButton">
            <Setter Property="Background" Value="#3D4450"/>
            <Setter Property="Foreground" Value="#FFFFFF"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Cursor" Value="Hand"/>
        </Style>

        <Style x:Key="FilterLabelStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="{StaticResource TextSecondaryBrush}"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
        </Style>

        <Style x:Key="DescriptionStyle" TargetType="TextBlock">
            <Setter Property="Foreground" Value="#AAAAAA"/>
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="FontStyle" Value="Italic"/>
            <Setter Property="Margin" Value="20,0,0,0"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
        </Style>
    </Window.Resources>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Naglowek -->
        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="20,12"
                BorderBrush="{StaticResource BorderColorBrush}" BorderThickness="0,0,0,1">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>
                <StackPanel Grid.Column="0" Orientation="Horizontal">
                    <Border Width="40" Height="40" CornerRadius="8" Background="{StaticResource AccentOrangeBrush}" Margin="0,0,12,0">
                        <TextBlock Text="H" FontSize="20" FontWeight="Bold" Foreground="#1A1D21" HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Dashboard Handlowca (DevExpress)" FontSize="18" FontWeight="Bold" Foreground="{StaticResource TextPrimaryBrush}"/>
                        <TextBlock Text="Analiza sprzedazy z faktur" FontSize="11" Foreground="{StaticResource TextSecondaryBrush}"/>
                    </StackPanel>
                </StackPanel>
                <StackPanel Grid.Column="2" Orientation="Horizontal" VerticalAlignment="Center">
                    <dx:SimpleButton x:Name="btnOdswiez" Content="Odswiez" Margin="12,0,0,0" Style="{StaticResource DarkButtonStyle}" Click="BtnOdswiez_Click"/>
                </StackPanel>
            </Grid>
        </Border>

        <dx:DXTabControl Grid.Row="1" x:Name="tabControl" Margin="10" SelectionChanged="TabControl_SelectionChanged">

            <!-- Tab: Sprzedaz miesieczna -->
            <dx:DXTabItem Header="Sprzedaz miesieczna">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Rok:" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokSprzedaz" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbRokSprzedaz_SelectionChanged"/>
                                <TextBlock Text="Miesiac:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbMiesiacSprzedaz" Style="{StaticResource DarkComboBoxStyle}" Width="120" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbMiesiacSprzedaz_SelectionChanged"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Wykres sprzedazy -->
                        <dxc:ChartControl Grid.Row="3" x:Name="chartSprzedaz" Background="Transparent">
                            <dxc:ChartControl.CrosshairOptions>
                                <dxc:CrosshairOptions ShowArgumentLabels="True" ShowValueLabels="True" ShowValueLine="True"/>
                            </dxc:ChartControl.CrosshairOptions>
                            <dxc:ChartControl.Legend>
                                <dxc:Legend Visibility="Collapsed"/>
                            </dxc:ChartControl.Legend>
                            <dxc:XYDiagram2D>
                                <dxc:XYDiagram2D.AxisX>
                                    <dxc:AxisX2D x:Name="axisXSprzedaz">
                                        <dxc:AxisX2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisX2D.Label>
                                    </dxc:AxisX2D>
                                </dxc:XYDiagram2D.AxisX>
                                <dxc:XYDiagram2D.AxisY>
                                    <dxc:AxisY2D x:Name="axisYSprzedaz" Title="Wartosc (zl)">
                                        <dxc:AxisY2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisY2D.Label>
                                        <dxc:AxisY2D.WholeRange>
                                            <dxc:Range MinValue="0"/>
                                        </dxc:AxisY2D.WholeRange>
                                    </dxc:AxisY2D>
                                </dxc:XYDiagram2D.AxisY>
                                <dxc:BarStackedSeries2D x:Name="seriesSprzedaz" DisplayName="Sprzedaz">
                                    <dxc:BarStackedSeries2D.Model>
                                        <dxc:BorderlessSimpleBar2DModel/>
                                    </dxc:BarStackedSeries2D.Model>
                                </dxc:BarStackedSeries2D>
                            </dxc:XYDiagram2D>
                        </dxc:ChartControl>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Top 15 kontrahentow -->
            <dx:DXTabItem Header="Top 15 kontrahentow">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Rok:" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokTop10" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbTop10_SelectionChanged"/>
                                <TextBlock Text="Miesiac:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbMiesiacTop10" Style="{StaticResource DarkComboBoxStyle}" Width="120" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbTop10_SelectionChanged"/>
                                <TextBlock Text="Towar:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbTowarTop10" Style="{StaticResource DarkComboBoxStyle}" Width="250" EditValueChanged="CmbTop10_SelectionChanged"/>
                                <TextBlock Text="Slupki poziome z wartoscia sprzedazy wg handlowcow" Style="{StaticResource DescriptionStyle}"/>
                            </StackPanel>
                        </Border>
                        <!-- Legenda kolorow handlowcow -->
                        <Border Grid.Row="1" Background="{StaticResource CardBackgroundBrush}" Padding="10,8" Margin="0,1,0,0">
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                <TextBlock Grid.Column="0" Text="Legenda: " FontSize="11" Foreground="{StaticResource TextSecondaryBrush}" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                <StackPanel Grid.Column="1" x:Name="panelLegendaTop15" Orientation="Horizontal" VerticalAlignment="Center"/>
                            </Grid>
                        </Border>
                        <Border Grid.Row="2" Background="{StaticResource CardBackgroundBrush}" Padding="10,8" Margin="0,1,0,0">
                            <TextBlock x:Name="txtTop10Info" Text="" FontSize="12" Foreground="#FFFFFF" HorizontalAlignment="Center"/>
                        </Border>
                        
                        <!-- Wykres Top 15 - DevExpress -->
                        <dxc:ChartControl Grid.Row="3" x:Name="chartTop10" Background="Transparent" Margin="20">
                            <dxc:ChartControl.Legend>
                                <dxc:Legend Visibility="Collapsed"/>
                            </dxc:ChartControl.Legend>
                            <dxc:XYDiagram2D Rotated="True">
                                <dxc:XYDiagram2D.AxisX>
                                    <dxc:AxisX2D x:Name="axisXTop10" Title="Wartosc (zl)">
                                        <dxc:AxisX2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisX2D.Label>
                                        <dxc:AxisX2D.WholeRange>
                                            <dxc:Range MinValue="0"/>
                                        </dxc:AxisX2D.WholeRange>
                                    </dxc:AxisX2D>
                                </dxc:XYDiagram2D.AxisX>
                                <dxc:XYDiagram2D.AxisY>
                                    <dxc:AxisY2D x:Name="axisYTop10">
                                        <dxc:AxisY2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisY2D.Label>
                                    </dxc:AxisY2D>
                                </dxc:XYDiagram2D.AxisY>
                            </dxc:XYDiagram2D>
                        </dxc:ChartControl>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Udzial handlowcow -->
            <dx:DXTabItem Header="Udzial handlowcow">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Od:" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokUdzialOd" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbUdzial_SelectionChanged"/>
                                <dxe:ComboBoxEdit x:Name="cmbMiesiacUdzialOd" Style="{StaticResource DarkComboBoxStyle}" Width="110" Margin="5,0,0,0" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbUdzial_SelectionChanged"/>
                                <TextBlock Text="Do:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokUdzialDo" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbUdzial_SelectionChanged"/>
                                <dxe:ComboBoxEdit x:Name="cmbMiesiacUdzialDo" Style="{StaticResource DarkComboBoxStyle}" Width="110" Margin="5,0,0,0" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbUdzial_SelectionChanged"/>
                                <TextBlock Text="Procentowy udzial kazdego handlowca w sprzedazy w czasie" Style="{StaticResource DescriptionStyle}"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Wykres udzialu - DevExpress -->
                        <dxc:ChartControl Grid.Row="1" x:Name="chartUdzial" Background="Transparent" Margin="20">
                            <dxc:ChartControl.Legend>
                                <dxc:Legend Visibility="Collapsed"/>
                            </dxc:ChartControl.Legend>
                            <dxc:XYDiagram2D>
                                <dxc:XYDiagram2D.AxisX>
                                    <dxc:AxisX2D x:Name="axisXUdzial">
                                        <dxc:AxisX2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF" Angle="45"/>
                                        </dxc:AxisX2D.Label>
                                    </dxc:AxisX2D>
                                </dxc:XYDiagram2D.AxisX>
                                <dxc:XYDiagram2D.AxisY>
                                    <dxc:AxisY2D x:Name="axisYUdzial" Title="Udzial (%)">
                                        <dxc:AxisY2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisY2D.Label>
                                        <dxc:AxisY2D.WholeRange>
                                            <dxc:Range MinValue="0"/>
                                        </dxc:AxisY2D.WholeRange>
                                    </dxc:AxisY2D>
                                </dxc:XYDiagram2D.AxisY>
                            </dxc:XYDiagram2D>
                        </dxc:ChartControl>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Analiza cen -->
            <dx:DXTabItem Header="Analiza cen">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Rok:" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokCeny" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbCeny_SelectionChanged"/>
                                <TextBlock Text="Miesiac:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbMiesiacCeny" Style="{StaticResource DarkComboBoxStyle}" Width="120" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbCeny_SelectionChanged"/>
                                <TextBlock Text="Towar:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbTowarCeny" Style="{StaticResource DarkComboBoxStyle}" Width="250" EditValueChanged="CmbCeny_SelectionChanged"/>
                                <TextBlock Text="Kliknij 2x na handlowca aby otworzyc szczegoly" Style="{StaticResource DescriptionStyle}"/>
                            </StackPanel>
                        </Border>
                        <Grid Grid.Row="1" Margin="10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>
                            
                            <!-- Wykres cen - DevExpress -->
                            <dxc:ChartControl Grid.Column="0" Grid.Row="0" x:Name="chartCeny" Background="Transparent" Margin="0,0,10,0">
                                <dxc:XYDiagram2D>
                                    <dxc:XYDiagram2D.AxisX>
                                        <dxc:AxisX2D x:Name="axisXCeny">
                                            <dxc:AxisX2D.Label>
                                                <dxc:AxisLabel Foreground="#FFFFFF" Angle="30"/>
                                            </dxc:AxisX2D.Label>
                                        </dxc:AxisX2D>
                                    </dxc:XYDiagram2D.AxisX>
                                    <dxc:XYDiagram2D.AxisY>
                                        <dxc:AxisY2D x:Name="axisYCeny" Title="Cena (zl/kg)">
                                            <dxc:AxisY2D.Label>
                                                <dxc:AxisLabel Foreground="#FFFFFF"/>
                                            </dxc:AxisY2D.Label>
                                            <dxc:AxisY2D.WholeRange>
                                                <dxc:Range MinValue="0"/>
                                            </dxc:AxisY2D.WholeRange>
                                        </dxc:AxisY2D>
                                    </dxc:XYDiagram2D.AxisY>
                                </dxc:XYDiagram2D>
                            </dxc:ChartControl>
                            
                            <!-- Wykres kg - DevExpress -->
                            <dxc:ChartControl Grid.Column="1" Grid.Row="0" x:Name="chartCenyKg" Background="Transparent" Margin="10,0,0,0">
                                <dxc:XYDiagram2D>
                                    <dxc:XYDiagram2D.AxisX>
                                        <dxc:AxisX2D x:Name="axisXCenyKg">
                                            <dxc:AxisX2D.Label>
                                                <dxc:AxisLabel Foreground="#FFFFFF" Angle="30"/>
                                            </dxc:AxisX2D.Label>
                                        </dxc:AxisX2D>
                                    </dxc:XYDiagram2D.AxisX>
                                    <dxc:XYDiagram2D.AxisY>
                                        <dxc:AxisY2D x:Name="axisYCenyKg" Title="Ilosc (kg)">
                                            <dxc:AxisY2D.Label>
                                                <dxc:AxisLabel Foreground="#FFFFFF"/>
                                            </dxc:AxisY2D.Label>
                                            <dxc:AxisY2D.WholeRange>
                                                <dxc:Range MinValue="0"/>
                                            </dxc:AxisY2D.WholeRange>
                                        </dxc:AxisY2D>
                                    </dxc:XYDiagram2D.AxisY>
                                </dxc:XYDiagram2D>
                            </dxc:ChartControl>
                            
                            <!-- Tabela handlowcow z DevExpress GridControl -->
                            <dxg:GridControl Grid.Row="1" Grid.ColumnSpan="2" x:Name="gridAnalizaCeny" AutoGenerateColumns="None"
                                            MaxHeight="200" Margin="0,10,0,0" MouseDoubleClick="GridAnalizaCeny_MouseDoubleClick">
                                <dxg:GridControl.View>
                                    <dxg:TableView ShowGroupPanel="False" AllowEditing="False" AutoWidth="True"
                                                   RowStyle="{StaticResource {x:Type dxg:RowControl}}"
                                                   ShowIndicator="False" NavigationStyle="Row"/>
                                </dxg:GridControl.View>
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="Handlowiec" Header="Handlowiec" Width="150"/>
                                    <dxg:GridColumn FieldName="SumaKgTekst" Header="Suma kg" Width="100">
                                        <dxg:GridColumn.CellStyle>
                                            <Style TargetType="dxg:CellContentPresenter">
                                                <Setter Property="Foreground" Value="#17A589"/>
                                            </Style>
                                        </dxg:GridColumn.CellStyle>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="SredniaCenaTekst" Header="Srednia cena" Width="100"/>
                                    <dxg:GridColumn FieldName="MinCenaTekst" Header="Min cena" Width="90">
                                        <dxg:GridColumn.CellStyle>
                                            <Style TargetType="dxg:CellContentPresenter">
                                                <Setter Property="Foreground" Value="#FF6B6B"/>
                                            </Style>
                                        </dxg:GridColumn.CellStyle>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="MaxCenaTekst" Header="Max cena" Width="90">
                                        <dxg:GridColumn.CellStyle>
                                            <Style TargetType="dxg:CellContentPresenter">
                                                <Setter Property="Foreground" Value="#17A589"/>
                                            </Style>
                                        </dxg:GridColumn.CellStyle>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="SumaWartoscTekst" Header="Suma wartosc" Width="110">
                                        <dxg:GridColumn.CellStyle>
                                            <Style TargetType="dxg:CellContentPresenter">
                                                <Setter Property="Foreground" Value="#C0392B"/>
                                                <Setter Property="FontWeight" Value="Bold"/>
                                            </Style>
                                        </dxg:GridColumn.CellStyle>
                                    </dxg:GridColumn>
                                    <dxg:GridColumn FieldName="LiczbaTransakcji" Header="Transakcji" Width="80"/>
                                    <dxg:GridColumn FieldName="LiczbaKontrahentow" Header="Kontrahentow" Width="90"/>
                                </dxg:GridControl.Columns>
                            </dxg:GridControl>
                        </Grid>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Swieze vs Mrozone -->
            <dx:DXTabItem Header="Swieze vs Mrozone">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Rok:" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokSM" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbSM_SelectionChanged"/>
                                <TextBlock Text="Miesiac:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbMiesiacSM" Style="{StaticResource DarkComboBoxStyle}" Width="120" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbSM_SelectionChanged"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Wykres Swieze vs Mrozone - DevExpress -->
                        <dxc:ChartControl Grid.Row="1" x:Name="chartSM" Background="Transparent" Margin="20">
                            <dxc:ChartControl.Legend>
                                <dxc:Legend HorizontalPosition="Right" VerticalPosition="Top" Foreground="#FFFFFF"/>
                            </dxc:ChartControl.Legend>
                            <dxc:XYDiagram2D>
                                <dxc:XYDiagram2D.AxisX>
                                    <dxc:AxisX2D x:Name="axisXSM">
                                        <dxc:AxisX2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF" Angle="45"/>
                                        </dxc:AxisX2D.Label>
                                    </dxc:AxisX2D>
                                </dxc:XYDiagram2D.AxisX>
                                <dxc:XYDiagram2D.AxisY>
                                    <dxc:AxisY2D x:Name="axisYSM" Title="Ilosc (kg)">
                                        <dxc:AxisY2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisY2D.Label>
                                        <dxc:AxisY2D.WholeRange>
                                            <dxc:Range MinValue="0"/>
                                        </dxc:AxisY2D.WholeRange>
                                    </dxc:AxisY2D>
                                </dxc:XYDiagram2D.AxisY>
                                <dxc:BarStackedSeries2D x:Name="seriesSwieze" DisplayName="Swieze">
                                    <dxc:BarStackedSeries2D.Model>
                                        <dxc:BorderlessSimpleBar2DModel/>
                                    </dxc:BarStackedSeries2D.Model>
                                </dxc:BarStackedSeries2D>
                                <dxc:BarStackedSeries2D x:Name="seriesMrozone" DisplayName="Mrozone">
                                    <dxc:BarStackedSeries2D.Model>
                                        <dxc:BorderlessSimpleBar2DModel/>
                                    </dxc:BarStackedSeries2D.Model>
                                </dxc:BarStackedSeries2D>
                            </dxc:XYDiagram2D>
                        </dxc:ChartControl>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Porownanie okresow -->
            <dx:DXTabItem Header="Porownanie okresow">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Rok 1:" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokPorown1" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbPorown_SelectionChanged"/>
                                <TextBlock Text="Rok 2:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                <dxe:ComboBoxEdit x:Name="cmbRokPorown2" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbPorown_SelectionChanged"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Wykres porownania - DevExpress -->
                        <dxc:ChartControl Grid.Row="1" x:Name="chartPorown" Background="Transparent" Margin="20">
                            <dxc:ChartControl.Legend>
                                <dxc:Legend HorizontalPosition="Right" VerticalPosition="Top" Foreground="#FFFFFF"/>
                            </dxc:ChartControl.Legend>
                            <dxc:XYDiagram2D>
                                <dxc:XYDiagram2D.AxisX>
                                    <dxc:AxisX2D x:Name="axisXPorown">
                                        <dxc:AxisX2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisX2D.Label>
                                    </dxc:AxisX2D>
                                </dxc:XYDiagram2D.AxisX>
                                <dxc:XYDiagram2D.AxisY>
                                    <dxc:AxisY2D x:Name="axisYPorown" Title="Wartosc (zl)">
                                        <dxc:AxisY2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisY2D.Label>
                                        <dxc:AxisY2D.WholeRange>
                                            <dxc:Range MinValue="0"/>
                                        </dxc:AxisY2D.WholeRange>
                                    </dxc:AxisY2D>
                                </dxc:XYDiagram2D.AxisY>
                            </dxc:XYDiagram2D>
                        </dxc:ChartControl>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Trend sprzedazy -->
            <dx:DXTabItem Header="Trend sprzedazy">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" Padding="15,10">
                            <StackPanel Orientation="Horizontal">
                                <TextBlock Text="Okres (miesiace):" Style="{StaticResource FilterLabelStyle}"/>
                                <dxe:ComboBoxEdit x:Name="cmbOkres" Style="{StaticResource DarkComboBoxStyle}" Width="80" EditValueChanged="CmbOkres_SelectionChanged"/>
                            </StackPanel>
                        </Border>
                        
                        <!-- Wykres trendu - DevExpress -->
                        <dxc:ChartControl Grid.Row="1" x:Name="chartTrend" Background="Transparent" Margin="20">
                            <dxc:ChartControl.Legend>
                                <dxc:Legend Visibility="Collapsed"/>
                            </dxc:ChartControl.Legend>
                            <dxc:XYDiagram2D>
                                <dxc:XYDiagram2D.AxisX>
                                    <dxc:AxisX2D x:Name="axisXTrend">
                                        <dxc:AxisX2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF" Angle="45"/>
                                        </dxc:AxisX2D.Label>
                                    </dxc:AxisX2D>
                                </dxc:XYDiagram2D.AxisX>
                                <dxc:XYDiagram2D.AxisY>
                                    <dxc:AxisY2D x:Name="axisYTrend" Title="Wartosc (zl)">
                                        <dxc:AxisY2D.Label>
                                            <dxc:AxisLabel Foreground="#FFFFFF"/>
                                        </dxc:AxisY2D.Label>
                                        <dxc:AxisY2D.WholeRange>
                                            <dxc:Range MinValue="0"/>
                                        </dxc:AxisY2D.WholeRange>
                                    </dxc:AxisY2D>
                                </dxc:XYDiagram2D.AxisY>
                                <dxc:LineSeries2D x:Name="seriesTrend" DisplayName="Trend">
                                    <dxc:LineSeries2D.Model>
                                        <dxc:SimpleLine2DModel/>
                                    </dxc:LineSeries2D.Model>
                                    <dxc:LineSeries2D.MarkerModel>
                                        <dxc:SimpleMarker2DModel/>
                                    </dxc:LineSeries2D.MarkerModel>
                                </dxc:LineSeries2D>
                            </dxc:XYDiagram2D>
                        </dxc:ChartControl>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Opakowania -->
            <dx:DXTabItem Header="Opakowania">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <Grid Margin="10">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="2*"/>
                            <RowDefinition Height="*"/>
                        </Grid.RowDefinitions>

                        <!-- Filtry opakowan -->
                        <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="15,10" Margin="0,0,0,10">
                            <StackPanel>
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="Handlowiec:" Style="{StaticResource FilterLabelStyle}"/>
                                    <dxe:ComboBoxEdit x:Name="cmbHandlowiecOpak" Style="{StaticResource DarkComboBoxStyle}" Width="150" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbOpakowania_SelectionChanged"/>
                                    <TextBlock Text="Saldo na:" Style="{StaticResource FilterLabelStyle}" Margin="20,0,8,0"/>
                                    <dxe:DateEdit x:Name="dpOpakOd" Width="110" EditValueChanged="DpOpakowania_SelectedDateChanged"/>
                                    <TextBlock Text="vs" Style="{StaticResource FilterLabelStyle}" Margin="10,0,8,0" FontWeight="Bold" Foreground="#17A589"/>
                                    <dxe:DateEdit x:Name="dpOpakDo" Width="110" EditValueChanged="DpOpakowania_SelectedDateChanged"/>
                                    <TextBlock x:Name="txtOpakZmiana" Text="" FontSize="11" Foreground="#8B949E" VerticalAlignment="Center" Margin="15,0,0,0"/>
                                    <TextBlock x:Name="txtOpakWybranyKontrahent" Text="" FontSize="12" FontWeight="Bold" Foreground="{StaticResource AccentOrangeBrush}" VerticalAlignment="Center" Margin="20,0,0,0"/>
                                </StackPanel>
                                <StackPanel Orientation="Horizontal" Margin="0,8,0,0">
                                    <TextBlock Text="Szybki wybor:" Style="{StaticResource FilterLabelStyle}"/>
                                    <dx:SimpleButton Content="Dzisiaj" Tag="0" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="5,0,3,0"/>
                                    <dx:SimpleButton Content="1 tydz" Tag="7" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,3,0"/>
                                    <dx:SimpleButton Content="2 tydz" Tag="14" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,3,0"/>
                                    <dx:SimpleButton Content="1 mies" Tag="30" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,3,0"/>
                                    <dx:SimpleButton Content="3 mies" Tag="90" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,3,0"/>
                                    <dx:SimpleButton Content="6 mies" Tag="180" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,3,0"/>
                                    <dx:SimpleButton Content="1 rok" Tag="365" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,3,0"/>
                                    <dx:SimpleButton Content="Calosc" Tag="9999" Click="BtnOpakOkres_Click" Style="{StaticResource SmallButtonStyle}" Margin="3,0,10,0"/>
                                    <TextBlock Text="Kliknij slupek aby zobaczyc trend klienta" Style="{StaticResource DescriptionStyle}" VerticalAlignment="Center"/>
                                </StackPanel>
                            </StackPanel>
                        </Border>

                        <!-- Gorny panel - dwa wykresy slupkowe poziome -->
                        <Grid Grid.Row="1" Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Wykres slupkowy E2 per kontrahent -->
                            <Border Grid.Column="0" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="10" Margin="0,0,5,0">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,5">
                                        <TextBlock Text="Saldo E2 wg Kontrahenta" FontSize="12" FontWeight="Bold" Foreground="#17A589"/>
                                        <TextBlock x:Name="txtOpakE2Suma" Text="" FontSize="11" Foreground="#8B949E" Margin="15,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <dxc:ChartControl Grid.Row="1" x:Name="chartOpakowaniaE2" Background="Transparent">
                                        <dxc:ChartControl.Legend>
                                            <dxc:Legend Visibility="Collapsed"/>
                                        </dxc:ChartControl.Legend>
                                        <dxc:XYDiagram2D Rotated="True">
                                            <dxc:XYDiagram2D.AxisX>
                                                <dxc:AxisX2D x:Name="axisXOpakE2">
                                                    <dxc:AxisX2D.Label>
                                                        <dxc:AxisLabel Foreground="#FFFFFF" FontSize="9"/>
                                                    </dxc:AxisX2D.Label>
                                                    <dxc:AxisX2D.WholeRange>
                                                        <dxc:Range MinValue="0"/>
                                                    </dxc:AxisX2D.WholeRange>
                                                </dxc:AxisX2D>
                                            </dxc:XYDiagram2D.AxisX>
                                            <dxc:XYDiagram2D.AxisY>
                                                <dxc:AxisY2D x:Name="axisYOpakE2">
                                                    <dxc:AxisY2D.Label>
                                                        <dxc:AxisLabel Foreground="#FFFFFF" FontSize="9"/>
                                                    </dxc:AxisY2D.Label>
                                                </dxc:AxisY2D>
                                            </dxc:XYDiagram2D.AxisY>
                                            <dxc:BarSideBySideSeries2D x:Name="seriesE2" Brush="#17A589">
                                                <dxc:BarSideBySideSeries2D.Model>
                                                    <dxc:BorderlessSimpleBar2DModel/>
                                                </dxc:BarSideBySideSeries2D.Model>
                                            </dxc:BarSideBySideSeries2D>
                                        </dxc:XYDiagram2D>
                                    </dxc:ChartControl>
                                </Grid>
                            </Border>

                            <!-- Wykres slupkowy H1 per kontrahent -->
                            <Border Grid.Column="1" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="10" Margin="5,0,0,0">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="*"/>
                                    </Grid.RowDefinitions>
                                    <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,5">
                                        <TextBlock Text="Saldo H1 wg Kontrahenta" FontSize="12" FontWeight="Bold" Foreground="#C0392B"/>
                                        <TextBlock x:Name="txtOpakH1Suma" Text="" FontSize="11" Foreground="#8B949E" Margin="15,0,0,0" VerticalAlignment="Center"/>
                                    </StackPanel>
                                    <dxc:ChartControl Grid.Row="1" x:Name="chartOpakowaniaH1" Background="Transparent">
                                        <dxc:ChartControl.Legend>
                                            <dxc:Legend Visibility="Collapsed"/>
                                        </dxc:ChartControl.Legend>
                                        <dxc:XYDiagram2D Rotated="True">
                                            <dxc:XYDiagram2D.AxisX>
                                                <dxc:AxisX2D x:Name="axisXOpakH1">
                                                    <dxc:AxisX2D.Label>
                                                        <dxc:AxisLabel Foreground="#FFFFFF" FontSize="9"/>
                                                    </dxc:AxisX2D.Label>
                                                    <dxc:AxisX2D.WholeRange>
                                                        <dxc:Range MinValue="0"/>
                                                    </dxc:AxisX2D.WholeRange>
                                                </dxc:AxisX2D>
                                            </dxc:XYDiagram2D.AxisX>
                                            <dxc:XYDiagram2D.AxisY>
                                                <dxc:AxisY2D x:Name="axisYOpakH1">
                                                    <dxc:AxisY2D.Label>
                                                        <dxc:AxisLabel Foreground="#FFFFFF" FontSize="9"/>
                                                    </dxc:AxisY2D.Label>
                                                </dxc:AxisY2D>
                                            </dxc:XYDiagram2D.AxisY>
                                            <dxc:BarSideBySideSeries2D x:Name="seriesH1" Brush="#C0392B">
                                                <dxc:BarSideBySideSeries2D.Model>
                                                    <dxc:BorderlessSimpleBar2DModel/>
                                                </dxc:BarSideBySideSeries2D.Model>
                                            </dxc:BarSideBySideSeries2D>
                                        </dxc:XYDiagram2D>
                                    </dxc:ChartControl>
                                </Grid>
                            </Border>
                        </Grid>

                        <!-- Dolny panel - wykres liniowy z dwoma liniami (E2 i H1) -->
                        <Border Grid.Row="2" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="10">
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>
                                <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="5,0,0,5">
                                    <TextBlock Text="Trend oddawania opakowan" FontSize="11" FontWeight="Bold" Foreground="#FFFFFF"/>
                                    <TextBlock x:Name="txtOpakTrendKlient" Text="(kliknij slupek)" FontSize="11" Foreground="#8B949E" Margin="10,0,0,0"/>
                                    <TextBlock Text="  |  " FontSize="11" Foreground="#8B949E" Margin="5,0,5,0"/>
                                    <Ellipse Width="10" Height="10" Fill="#17A589" VerticalAlignment="Center"/>
                                    <TextBlock Text=" E2" FontSize="10" Foreground="#17A589" VerticalAlignment="Center" Margin="3,0,10,0"/>
                                    <Ellipse Width="10" Height="10" Fill="#C0392B" VerticalAlignment="Center"/>
                                    <TextBlock Text=" H1" FontSize="10" Foreground="#C0392B" VerticalAlignment="Center" Margin="3,0,0,0"/>
                                </StackPanel>
                                <dxc:ChartControl Grid.Row="1" x:Name="chartOpakTrend" Background="Transparent">
                                    <dxc:ChartControl.Legend>
                                        <dxc:Legend Visibility="Collapsed"/>
                                    </dxc:ChartControl.Legend>
                                    <dxc:XYDiagram2D>
                                        <dxc:XYDiagram2D.AxisX>
                                            <dxc:AxisX2D x:Name="axisXOpakTrend">
                                                <dxc:AxisX2D.Label>
                                                    <dxc:AxisLabel Foreground="#FFFFFF" FontSize="9"/>
                                                </dxc:AxisX2D.Label>
                                            </dxc:AxisX2D>
                                        </dxc:XYDiagram2D.AxisX>
                                        <dxc:XYDiagram2D.AxisY>
                                            <dxc:AxisY2D x:Name="axisYOpakTrend">
                                                <dxc:AxisY2D.Label>
                                                    <dxc:AxisLabel Foreground="#FFFFFF" FontSize="9"/>
                                                </dxc:AxisY2D.Label>
                                                <dxc:AxisY2D.WholeRange>
                                                    <dxc:Range MinValue="0"/>
                                                </dxc:AxisY2D.WholeRange>
                                            </dxc:AxisY2D>
                                        </dxc:XYDiagram2D.AxisY>
                                        <dxc:LineSeries2D x:Name="seriesTrendE2" DisplayName="E2" Brush="#17A589">
                                            <dxc:LineSeries2D.Model>
                                                <dxc:SimpleLine2DModel/>
                                            </dxc:LineSeries2D.Model>
                                            <dxc:LineSeries2D.MarkerModel>
                                                <dxc:SimpleMarker2DModel/>
                                            </dxc:LineSeries2D.MarkerModel>
                                        </dxc:LineSeries2D>
                                        <dxc:LineSeries2D x:Name="seriesTrendH1" DisplayName="H1" Brush="#C0392B">
                                            <dxc:LineSeries2D.Model>
                                                <dxc:SimpleLine2DModel/>
                                            </dxc:LineSeries2D.Model>
                                            <dxc:LineSeries2D.MarkerModel>
                                                <dxc:SimpleMarker2DModel/>
                                            </dxc:LineSeries2D.MarkerModel>
                                        </dxc:LineSeries2D>
                                    </dxc:XYDiagram2D>
                                </dxc:ChartControl>
                            </Grid>
                        </Border>
                    </Grid>
                </Border>
            </dx:DXTabItem>

            <!-- Tab: Platnosci -->
            <dx:DXTabItem Header="Platnosci">
                <Border Background="{StaticResource CardBackgroundLightBrush}" CornerRadius="0,8,8,8">
                    <ScrollViewer VerticalScrollBarVisibility="Auto">
                        <Grid Margin="10">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <!-- Filtry platnosci -->
                            <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="15,10" Margin="0,0,0,10">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock Text="Handlowiec:" Style="{StaticResource FilterLabelStyle}"/>
                                    <dxe:ComboBoxEdit x:Name="cmbHandlowiecPlatnosci" Style="{StaticResource DarkComboBoxStyle}" Width="150" DisplayMember="Text" ValueMember="Value" EditValueChanged="CmbPlatnosci_SelectionChanged"/>
                                    <TextBlock Text="Kliknij 2x na wiersz aby otworzyc szczegoly kontrahenta" Style="{StaticResource DescriptionStyle}"/>
                                </StackPanel>
                            </Border>

                            <!-- Karty podsumowania platnosci -->
                            <Grid Grid.Row="1" Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Suma terminowe -->
                                <Border Grid.Column="0" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="15" Margin="0,0,5,0">
                                    <StackPanel>
                                        <TextBlock Text="SUMA TERMINOWE" FontSize="10" Foreground="{StaticResource TextSecondaryBrush}" FontWeight="Bold"/>
                                        <TextBlock x:Name="txtSumaTerminowe" Text="0 zl" FontSize="24" FontWeight="Bold" Foreground="#17A589" Margin="0,5,0,0"/>
                                        <TextBlock x:Name="txtIloscTerminowe" Text="0 kontrahentow" FontSize="11" Foreground="#8B949E"/>
                                    </StackPanel>
                                </Border>

                                <!-- Suma przeterminowane -->
                                <Border Grid.Column="1" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="15" Margin="5,0,5,0">
                                    <StackPanel>
                                        <TextBlock Text="SUMA PRZETERMINOWANE" FontSize="10" Foreground="{StaticResource TextSecondaryBrush}" FontWeight="Bold"/>
                                        <TextBlock x:Name="txtSumaPrzeterminowane" Text="0 zl" FontSize="24" FontWeight="Bold" Foreground="#FF6B6B" Margin="0,5,0,0"/>
                                        <TextBlock x:Name="txtIloscPrzeterminowane" Text="0 kontrahentow" FontSize="11" Foreground="#8B949E"/>
                                    </StackPanel>
                                </Border>

                                <!-- Suma przekroczony limit -->
                                <Border Grid.Column="2" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="15" Margin="5,0,5,0">
                                    <StackPanel>
                                        <TextBlock Text="PRZEKROCZONY LIMIT" FontSize="10" Foreground="{StaticResource TextSecondaryBrush}" FontWeight="Bold"/>
                                        <TextBlock x:Name="txtSumaPrzekroczony" Text="0 zl" FontSize="24" FontWeight="Bold" Foreground="#AA96DA" Margin="0,5,0,0"/>
                                        <TextBlock x:Name="txtIloscPrzekroczony" Text="0 kontrahentow" FontSize="11" Foreground="#8B949E"/>
                                    </StackPanel>
                                </Border>

                                <!-- Suma do zaplaty -->
                                <Border Grid.Column="3" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="15" Margin="5,0,0,0">
                                    <StackPanel>
                                        <TextBlock Text="SUMA DO ZAPLATY" FontSize="10" Foreground="{StaticResource TextSecondaryBrush}" FontWeight="Bold"/>
                                        <TextBlock x:Name="txtSumaDoZaplaty" Text="0 zl" FontSize="24" FontWeight="Bold" Foreground="{StaticResource AccentOrangeBrush}" Margin="0,5,0,0"/>
                                        <TextBlock x:Name="txtIloscDoZaplaty" Text="0 kontrahentow" FontSize="11" Foreground="#8B949E"/>
                                    </StackPanel>
                                </Border>
                            </Grid>

                            <!-- Wykres przeterminowanych wg handlowcow + Wskazniki + Aging -->
                            <Grid Grid.Row="2" Margin="0,0,0,10">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="2*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- LEWA STRONA: Wykres + Wskazniki -->
                                <Grid Grid.Column="0" Margin="0,0,5,0">
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="*"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <!-- Wykres przeterminowanych wg handlowcow -->
                                    <Border Grid.Row="0" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="12" Margin="0,0,0,5">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <TextBlock Grid.Row="0" Text="PRZETERMINOWANE WG HANDLOWCOW" FontSize="10" Foreground="{StaticResource TextSecondaryBrush}" FontWeight="Bold" Margin="0,0,0,8"/>
                                            <dxc:ChartControl Grid.Row="1" x:Name="chartPrzeterminowaneHandlowiec" Background="Transparent">
                                                <dxc:ChartControl.Legend>
                                                    <dxc:Legend Visibility="Collapsed"/>
                                                </dxc:ChartControl.Legend>
                                                <dxc:XYDiagram2D Rotated="True">
                                                    <dxc:XYDiagram2D.AxisX>
                                                        <dxc:AxisX2D x:Name="axisXPrzeterminowaneHandlowiec">
                                                            <dxc:AxisX2D.Label>
                                                                <dxc:AxisLabel Foreground="#FFFFFF"/>
                                                            </dxc:AxisX2D.Label>
                                                            <dxc:AxisX2D.WholeRange>
                                                                <dxc:Range MinValue="0"/>
                                                            </dxc:AxisX2D.WholeRange>
                                                        </dxc:AxisX2D>
                                                    </dxc:XYDiagram2D.AxisX>
                                                    <dxc:XYDiagram2D.AxisY>
                                                        <dxc:AxisY2D x:Name="axisYPrzeterminowaneHandlowiec">
                                                            <dxc:AxisY2D.Label>
                                                                <dxc:AxisLabel Foreground="#FFFFFF"/>
                                                            </dxc:AxisY2D.Label>
                                                        </dxc:AxisY2D>
                                                    </dxc:XYDiagram2D.AxisY>
                                                    <dxc:BarSideBySideSeries2D x:Name="seriesPrzeterminowaneHandlowiec" Brush="#FF6B6B">
                                                        <dxc:BarSideBySideSeries2D.Model>
                                                            <dxc:BorderlessSimpleBar2DModel/>
                                                        </dxc:BarSideBySideSeries2D.Model>
                                                    </dxc:BarSideBySideSeries2D>
                                                </dxc:XYDiagram2D>
                                            </dxc:ChartControl>
                                        </Grid>
                                    </Border>

                                    <!-- Wskazniki platnosci -->
                                    <Border Grid.Row="1" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="12">
                                        <Grid>
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>
                                            <StackPanel Grid.Column="0" HorizontalAlignment="Center">
                                                <TextBlock Text="Srednie dni opozn." Foreground="#8B949E" FontSize="9" HorizontalAlignment="Center"/>
                                                <TextBlock x:Name="txtWskaznikSrednieDni" Text="0 dni" Foreground="#FFE66D" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,3,0,0"/>
                                            </StackPanel>
                                            <StackPanel Grid.Column="1" HorizontalAlignment="Center">
                                                <TextBlock Text="% przeterminow." Foreground="#8B949E" FontSize="9" HorizontalAlignment="Center"/>
                                                <TextBlock x:Name="txtWskaznikProcentPrzeterminowanych" Text="0%" Foreground="#FF6B6B" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,3,0,0"/>
                                            </StackPanel>
                                            <StackPanel Grid.Column="2" HorizontalAlignment="Center">
                                                <TextBlock Text="Klientow przet." Foreground="#8B949E" FontSize="9" HorizontalAlignment="Center"/>
                                                <TextBlock x:Name="txtWskaznikLiczbaKlientow" Text="0" Foreground="#C0392B" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,3,0,0"/>
                                            </StackPanel>
                                            <StackPanel Grid.Column="3" HorizontalAlignment="Center">
                                                <TextBlock Text="Przekr. limit" Foreground="#8B949E" FontSize="9" HorizontalAlignment="Center"/>
                                                <TextBlock x:Name="txtWskaznikPrzekroczonyLimit" Text="0" Foreground="#AA96DA" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,3,0,0"/>
                                            </StackPanel>
                                            <StackPanel Grid.Column="4" HorizontalAlignment="Center">
                                                <TextBlock Text="Dyscyplina" Foreground="#8B949E" FontSize="9" HorizontalAlignment="Center"/>
                                                <TextBlock x:Name="txtWskaznikDyscyplina" Text="0%" Foreground="#17A589" FontSize="16" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,3,0,0"/>
                                            </StackPanel>
                                        </Grid>
                                    </Border>
                                </Grid>

                                <!-- PRAWA STRONA: Analiza wiekowa -->
                                <Border Grid.Column="1" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="12" Margin="5,0,0,0">
                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>
                                        <TextBlock Grid.Row="0" Text="ANALIZA WIEKOWA" FontSize="10" Foreground="{StaticResource TextSecondaryBrush}" FontWeight="Bold" Margin="0,0,0,8"/>

                                        <!-- 1-30 dni -->
                                        <Border Grid.Row="1" Background="#1A1D21" CornerRadius="5" Padding="10" Margin="0,0,0,4">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="1-30 DNI" FontSize="11" Foreground="#17A589" FontWeight="Bold" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="1" x:Name="txtAging030" Text="0 zl" FontSize="14" FontWeight="Bold" Foreground="#17A589" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0"/>
                                                <TextBlock Grid.Column="2" x:Name="txtAging030Procent" Text="0%" FontSize="9" Foreground="#8B949E" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>

                                        <!-- 31-60 dni -->
                                        <Border Grid.Row="2" Background="#1A1D21" CornerRadius="5" Padding="10" Margin="0,0,0,4">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="31-60 DNI" FontSize="11" Foreground="#FFE66D" FontWeight="Bold" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="1" x:Name="txtAging3160" Text="0 zl" FontSize="14" FontWeight="Bold" Foreground="#FFE66D" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0"/>
                                                <TextBlock Grid.Column="2" x:Name="txtAging3160Procent" Text="0%" FontSize="9" Foreground="#8B949E" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>

                                        <!-- 61-90 dni -->
                                        <Border Grid.Row="3" Background="#1A1D21" CornerRadius="5" Padding="10" Margin="0,0,0,4">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="61-90 DNI" FontSize="11" Foreground="#C0392B" FontWeight="Bold" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="1" x:Name="txtAging6190" Text="0 zl" FontSize="14" FontWeight="Bold" Foreground="#C0392B" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0"/>
                                                <TextBlock Grid.Column="2" x:Name="txtAging6190Procent" Text="0%" FontSize="9" Foreground="#8B949E" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>

                                        <!-- 90+ dni -->
                                        <Border Grid.Row="4" Background="#1A1D21" CornerRadius="5" Padding="10">
                                            <Grid>
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="Auto"/>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>
                                                <TextBlock Grid.Column="0" Text="90+ DNI" FontSize="11" Foreground="#FF6B6B" FontWeight="Bold" VerticalAlignment="Center"/>
                                                <TextBlock Grid.Column="1" x:Name="txtAging90Plus" Text="0 zl" FontSize="14" FontWeight="Bold" Foreground="#FF6B6B" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="10,0"/>
                                                <TextBlock Grid.Column="2" x:Name="txtAging90PlusProcent" Text="0%" FontSize="9" Foreground="#8B949E" VerticalAlignment="Center"/>
                                            </Grid>
                                        </Border>
                                    </Grid>
                                </Border>
                            </Grid>

                            <!-- Tabela platnosci - DevExpress GridControl -->
                            <Border Grid.Row="4" Background="{StaticResource CardBackgroundBrush}" CornerRadius="8" Padding="10">
                                <dxg:GridControl x:Name="gridPlatnosci" AutoGenerateColumns="None" MouseDoubleClick="GridPlatnosci_MouseDoubleClick">
                                    <dxg:GridControl.View>
                                        <dxg:TableView ShowGroupPanel="False" AllowEditing="False" AutoWidth="True"
                                                       ShowIndicator="False" NavigationStyle="Row" AllowSorting="True"/>
                                    </dxg:GridControl.View>
                                    <dxg:GridControl.Columns>
                                        <dxg:GridColumn FieldName="Kontrahent" Header="Kontrahent" Width="180"/>
                                        <dxg:GridColumn FieldName="LimitKredytuTekst" Header="Limit" Width="120"/>
                                        <dxg:GridColumn FieldName="DoZaplatyTekst" Header="Do zaplacenia" Width="120"/>
                                        <dxg:GridColumn FieldName="PrzekroczonyLimitTekst" Header="Przekroczony limit" Width="130"/>
                                        <dxg:GridColumn FieldName="TerminoweTekst" Header="Terminowe" Width="110">
                                            <dxg:GridColumn.CellStyle>
                                                <Style TargetType="dxg:CellContentPresenter">
                                                    <Setter Property="Foreground" Value="#17A589"/>
                                                </Style>
                                            </dxg:GridColumn.CellStyle>
                                        </dxg:GridColumn>
                                        <dxg:GridColumn FieldName="PrzeterminowaneTekst" Header="Przeterminowane" Width="130"/>
                                        <dxg:GridColumn FieldName="NajpozniejszaPlatnoscTekst" Header="Najpozniejsza platnosc" Width="160"/>
                                    </dxg:GridControl.Columns>
                                </dxg:GridControl>
                            </Border>
                        </Grid>
                    </ScrollViewer>
                </Border>
            </dx:DXTabItem>

        </dx:DXTabControl>

        <Border Grid.RowSpan="2" Background="#CC1A1D21" x:Name="loadingOverlay" Visibility="Collapsed">
            <StackPanel HorizontalAlignment="Center" VerticalAlignment="Center">
                <dx:WaitIndicator DeferedVisibility="True" ShowShadow="True"/>
                <TextBlock Text="Ladowanie danych..." FontSize="14" Foreground="{StaticResource TextPrimaryBrush}" Margin="0,15,0,0" HorizontalAlignment="Center"/>
            </StackPanel>
        </Border>
    </Grid>
</Window>
