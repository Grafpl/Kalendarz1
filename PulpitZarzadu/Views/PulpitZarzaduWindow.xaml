<Window x:Class="Kalendarz1.PulpitZarzadu.Views.PulpitZarzaduWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:controls="clr-namespace:Kalendarz1.WPF.Controls"
        Title="Pulpit Zarzadu - KPI Dashboard" Height="900" Width="1500"
        WindowStartupLocation="CenterScreen" WindowState="Maximized"
        Background="#1A1D21"
        Loaded="Window_Loaded">

    <Window.Resources>
        <SolidColorBrush x:Key="BgDark" Color="#1A1D21"/>
        <SolidColorBrush x:Key="CardBg" Color="#252A31"/>
        <SolidColorBrush x:Key="CardBgLight" Color="#2D333B"/>
        <SolidColorBrush x:Key="TextPrimary" Color="#FFFFFF"/>
        <SolidColorBrush x:Key="TextSecondary" Color="#8B949E"/>
        <SolidColorBrush x:Key="AccentGold" Color="#D4AF37"/>
        <SolidColorBrush x:Key="BorderColor" Color="#30363D"/>
        <SolidColorBrush x:Key="AccentBlue" Color="#2196F3"/>
        <SolidColorBrush x:Key="AccentGreen" Color="#4CAF50"/>
        <SolidColorBrush x:Key="AccentRed" Color="#FF5722"/>
        <SolidColorBrush x:Key="FooterBg" Color="#1E2228"/>

        <!-- KPI Card Style with DropShadow and hover trigger -->
        <Style x:Key="KpiCardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBg}"/>
            <Setter Property="CornerRadius" Value="12"/>
            <Setter Property="Padding" Value="20,16"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="Effect">
                <Setter.Value>
                    <DropShadowEffect ShadowDepth="4" BlurRadius="12" Opacity="0.3" Color="#000000"/>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="SectionTitle" TargetType="TextBlock">
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="Margin" Value="0,0,0,12"/>
        </Style>

        <Style x:Key="KpiValueText" TargetType="TextBlock">
            <Setter Property="FontSize" Value="24"/>
            <Setter Property="FontWeight" Value="Bold"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
        </Style>

        <Style x:Key="KpiLabelText" TargetType="TextBlock">
            <Setter Property="FontSize" Value="11"/>
            <Setter Property="Foreground" Value="{StaticResource TextSecondary}"/>
            <Setter Property="Margin" Value="0,2,0,0"/>
        </Style>

        <Style x:Key="RefreshButton" TargetType="Button">
            <Setter Property="Background" Value="{StaticResource CardBg}"/>
            <Setter Property="Foreground" Value="{StaticResource TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderColor}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="16,8"/>
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border" Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="8" Padding="{TemplateBinding Padding}">
                            <ContentPresenter HorizontalAlignment="Center" VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background" Value="#3D444D"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- Pulsing animation for LIVE dot -->
        <Storyboard x:Key="PulseAnimation" RepeatBehavior="Forever">
            <DoubleAnimation Storyboard.TargetName="liveDot"
                             Storyboard.TargetProperty="Opacity"
                             From="1" To="0.3" Duration="0:0:1"
                             AutoReverse="True"/>
        </Storyboard>
    </Window.Resources>

    <Window.Triggers>
        <EventTrigger RoutedEvent="Window.Loaded">
            <BeginStoryboard Storyboard="{StaticResource PulseAnimation}"/>
        </EventTrigger>
    </Window.Triggers>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- HEADER -->
        <Border Grid.Row="0" Background="#252A31" Padding="24,14" BorderThickness="0,0,0,1" BorderBrush="#30363D">
            <Border.Effect>
                <DropShadowEffect ShadowDepth="2" BlurRadius="8" Opacity="0.3" Color="#000000" Direction="270"/>
            </Border.Effect>
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <!-- Company logo -->
                    <Image Source="/Logo.png" Width="36" Height="36" Margin="0,0,12,0"
                           RenderOptions.BitmapScalingMode="HighQuality"/>
                    <StackPanel VerticalAlignment="Center">
                        <TextBlock Text="Pulpit Zarzadu" FontSize="18" FontWeight="Bold" Foreground="White"/>
                        <TextBlock Text="Kluczowe wskazniki w czasie rzeczywistym" FontSize="10" Foreground="#8B949E" Margin="0,-1,0,0"/>
                    </StackPanel>
                    <!-- LIVE badge with pulsing dot -->
                    <Border Background="#1A2F1A" CornerRadius="6" Padding="10,4" Margin="16,0,0,0" VerticalAlignment="Center"
                            BorderBrush="#2D5A2D" BorderThickness="1">
                        <StackPanel Orientation="Horizontal">
                            <Ellipse x:Name="liveDot" Width="8" Height="8" Fill="#4CAF50" Margin="0,0,6,0" VerticalAlignment="Center"/>
                            <TextBlock Text="LIVE" FontSize="10" FontWeight="Bold" Foreground="#4CAF50"/>
                        </StackPanel>
                    </Border>
                </StackPanel>

                <!-- Vertical separator -->
                <Rectangle Grid.Column="2" Width="1" Fill="#30363D" Margin="16,4" VerticalAlignment="Stretch"/>

                <!-- Date with calendar icon -->
                <StackPanel Grid.Column="3" Orientation="Horizontal" VerticalAlignment="Center" Margin="16,0,16,0">
                    <TextBlock Text="&#x1F4C5;" FontSize="14" VerticalAlignment="Center" Margin="0,0,6,0"/>
                    <TextBlock x:Name="txtHeaderDate" FontSize="13" Foreground="#8B949E" VerticalAlignment="Center"/>
                </StackPanel>

                <Button Grid.Column="5" Content="&#x21BB; Odswiez" Style="{StaticResource RefreshButton}"
                        Click="BtnRefresh_Click"/>
            </Grid>
        </Border>

        <!-- MAIN CONTENT -->
        <ScrollViewer Grid.Row="1" VerticalScrollBarVisibility="Auto" Padding="24,20">
            <Grid x:Name="gridContent">
                <Grid.RowDefinitions>
                    <RowDefinition Height="Auto"/>
                    <RowDefinition Height="Auto"/>
                </Grid.RowDefinitions>

                <!-- ROW 1: 3 KPI CARDS -->
                <UniformGrid Grid.Row="0" Rows="1" Columns="3" Margin="0,0,0,16">
                    <!-- MAGAZYN MROZNI -->
                    <Border Style="{StaticResource KpiCardStyle}" Margin="0,0,8,0" x:Name="cardMagazyn">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <Border Background="#2196F3" CornerRadius="8" Width="38" Height="38" Margin="0,0,12,0">
                                    <TextBlock Text="&#x2744;" FontSize="18" Foreground="White"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="MAGAZYN MROZNI" Style="{StaticResource SectionTitle}" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>
                            <!-- Gradient accent separator -->
                            <Rectangle Height="2" Margin="0,0,0,12" RadiusX="1" RadiusY="1">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#2196F3" Offset="0"/>
                                        <GradientStop Color="Transparent" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <StackPanel x:Name="panelMagazyn">
                                <TextBlock x:Name="txtMagazynStan" Style="{StaticResource KpiValueText}" Text="---"/>
                                <TextBlock Text="Stan mrozni" Style="{StaticResource KpiLabelText}"/>
                                <Grid Margin="0,12,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock x:Name="txtMagazynWydania" Text="---" FontSize="16" FontWeight="SemiBold" Foreground="#E74C3C"/>
                                        <TextBlock Text="Wydania dzis" Style="{StaticResource KpiLabelText}"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1">
                                        <TextBlock x:Name="txtMagazynPrzyjecia" Text="---" FontSize="16" FontWeight="SemiBold" Foreground="#2ECC71"/>
                                        <TextBlock Text="Przyjecia dzis" Style="{StaticResource KpiLabelText}"/>
                                    </StackPanel>
                                </Grid>
                                <!-- Mini chart -->
                                <ItemsControl x:Name="chartMagazyn" Margin="0,12,0,0" Height="50">
                                    <ItemsControl.ItemsPanel>
                                        <ItemsPanelTemplate>
                                            <UniformGrid Rows="1"/>
                                        </ItemsPanelTemplate>
                                    </ItemsControl.ItemsPanel>
                                </ItemsControl>
                            </StackPanel>
                            <TextBlock x:Name="txtMagazynError" Foreground="#E74C3C" FontSize="11"
                                       TextWrapping="Wrap" Visibility="Collapsed"/>
                        </StackPanel>
                    </Border>

                    <!-- ZAMOWIENIA -->
                    <Border Style="{StaticResource KpiCardStyle}" Margin="8,0,8,0" x:Name="cardZamowienia">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <Border Background="#FF9800" CornerRadius="8" Width="38" Height="38" Margin="0,0,12,0">
                                    <TextBlock Text="&#x1F4E6;" FontSize="18" Foreground="White"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="ZAMOWIENIA" Style="{StaticResource SectionTitle}" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>
                            <Rectangle Height="2" Margin="0,0,0,12" RadiusX="1" RadiusY="1">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#FF9800" Offset="0"/>
                                        <GradientStop Color="Transparent" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <StackPanel x:Name="panelZamowienia">
                                <TextBlock x:Name="txtZamDzis" Style="{StaticResource KpiValueText}" Text="---"/>
                                <TextBlock x:Name="txtZamDzisKg" Style="{StaticResource KpiLabelText}"/>
                                <StackPanel Margin="0,12,0,0">
                                    <TextBlock x:Name="txtZamJutro" Text="---" FontSize="16" FontWeight="SemiBold" Foreground="#FF9800"/>
                                    <TextBlock Text="Zamowienia na jutro" Style="{StaticResource KpiLabelText}"/>
                                </StackPanel>
                            </StackPanel>
                            <TextBlock x:Name="txtZamError" Foreground="#E74C3C" FontSize="11"
                                       TextWrapping="Wrap" Visibility="Collapsed"/>
                        </StackPanel>
                    </Border>

                    <!-- SPRZEDAZ -->
                    <Border Style="{StaticResource KpiCardStyle}" Margin="8,0,0,0" x:Name="cardSprzedaz">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <Border Background="#4CAF50" CornerRadius="8" Width="38" Height="38" Margin="0,0,12,0">
                                    <TextBlock Text="&#x1F4B0;" FontSize="18" Foreground="White"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="SPRZEDAZ" Style="{StaticResource SectionTitle}" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>
                            <Rectangle Height="2" Margin="0,0,0,12" RadiusX="1" RadiusY="1">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#4CAF50" Offset="0"/>
                                        <GradientStop Color="Transparent" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <StackPanel x:Name="panelSprzedaz">
                                <StackPanel Orientation="Horizontal">
                                    <TextBlock x:Name="txtSprzedazMiesiac" Style="{StaticResource KpiValueText}" Text="---"/>
                                    <TextBlock x:Name="txtSprzedazArrow" FontSize="20" FontWeight="Bold" Margin="8,0,0,0" VerticalAlignment="Center"/>
                                </StackPanel>
                                <TextBlock x:Name="txtSprzedazPln" Style="{StaticResource KpiLabelText}"/>
                                <StackPanel Margin="0,12,0,0">
                                    <TextBlock x:Name="txtSprzedazZmiana" Text="---" FontSize="16" FontWeight="SemiBold"/>
                                    <TextBlock Text="vs poprzedni miesiac" Style="{StaticResource KpiLabelText}"/>
                                </StackPanel>
                            </StackPanel>
                            <TextBlock x:Name="txtSprzedazError" Foreground="#E74C3C" FontSize="11"
                                       TextWrapping="Wrap" Visibility="Collapsed"/>
                        </StackPanel>
                    </Border>
                </UniformGrid>

                <!-- ROW 2: 3 KPI CARDS -->
                <UniformGrid Grid.Row="1" Rows="1" Columns="3">
                    <!-- PRODUKCJA -->
                    <Border Style="{StaticResource KpiCardStyle}" Margin="0,0,8,0" x:Name="cardProdukcja">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <Border Background="#9C27B0" CornerRadius="8" Width="38" Height="38" Margin="0,0,12,0">
                                    <TextBlock Text="&#x2699;" FontSize="18" Foreground="White"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="PRODUKCJA" Style="{StaticResource SectionTitle}" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>
                            <Rectangle Height="2" Margin="0,0,0,12" RadiusX="1" RadiusY="1">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#9C27B0" Offset="0"/>
                                        <GradientStop Color="Transparent" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <StackPanel x:Name="panelProdukcja">
                                <TextBlock x:Name="txtProdukcjaZywiec" Style="{StaticResource KpiValueText}" Text="---"/>
                                <TextBlock Text="Przychod zywca dzis" Style="{StaticResource KpiLabelText}"/>
                            </StackPanel>
                            <TextBlock x:Name="txtProdukcjaError" Foreground="#E74C3C" FontSize="11"
                                       TextWrapping="Wrap" Visibility="Collapsed"/>
                        </StackPanel>
                    </Border>

                    <!-- TRANSPORT -->
                    <Border Style="{StaticResource KpiCardStyle}" Margin="8,0,8,0" x:Name="cardTransport">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <Border Background="#00BCD4" CornerRadius="8" Width="38" Height="38" Margin="0,0,12,0">
                                    <TextBlock Text="&#x1F69A;" FontSize="18" Foreground="White"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="TRANSPORT" Style="{StaticResource SectionTitle}" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>
                            <Rectangle Height="2" Margin="0,0,0,12" RadiusX="1" RadiusY="1">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#00BCD4" Offset="0"/>
                                        <GradientStop Color="Transparent" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <StackPanel x:Name="panelTransport">
                                <TextBlock x:Name="txtTransportKursy" Style="{StaticResource KpiValueText}" Text="---"/>
                                <TextBlock Text="Kursy zaplanowane" Style="{StaticResource KpiLabelText}"/>
                                <StackPanel Margin="0,12,0,0">
                                    <TextBlock x:Name="txtTransportKlienci" Text="---" FontSize="16" FontWeight="SemiBold" Foreground="#00BCD4"/>
                                    <TextBlock Text="Klienci do obslugi" Style="{StaticResource KpiLabelText}"/>
                                </StackPanel>
                            </StackPanel>
                            <TextBlock x:Name="txtTransportError" Foreground="#E74C3C" FontSize="11"
                                       TextWrapping="Wrap" Visibility="Collapsed"/>
                        </StackPanel>
                    </Border>

                    <!-- HR / FREKWENCJA -->
                    <Border Style="{StaticResource KpiCardStyle}" Margin="8,0,0,0" x:Name="cardHr">
                        <StackPanel>
                            <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                                <Border Background="#FF5722" CornerRadius="8" Width="38" Height="38" Margin="0,0,12,0">
                                    <TextBlock Text="&#x1F465;" FontSize="18" Foreground="White"
                                               HorizontalAlignment="Center" VerticalAlignment="Center"/>
                                </Border>
                                <TextBlock Text="HR / FREKWENCJA" Style="{StaticResource SectionTitle}" VerticalAlignment="Center" Margin="0"/>
                            </StackPanel>
                            <Rectangle Height="2" Margin="0,0,0,12" RadiusX="1" RadiusY="1">
                                <Rectangle.Fill>
                                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,0">
                                        <GradientStop Color="#FF5722" Offset="0"/>
                                        <GradientStop Color="Transparent" Offset="1"/>
                                    </LinearGradientBrush>
                                </Rectangle.Fill>
                            </Rectangle>
                            <StackPanel x:Name="panelHr">
                                <TextBlock x:Name="txtHrObecnych" Style="{StaticResource KpiValueText}" Text="---"/>
                                <TextBlock Text="Obecnych dzis" Style="{StaticResource KpiLabelText}"/>
                                <Grid Margin="0,12,0,0">
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>
                                    <StackPanel Grid.Column="0">
                                        <TextBlock x:Name="txtHrAktywnych" Text="---" FontSize="16" FontWeight="SemiBold" Foreground="#8B949E"/>
                                        <TextBlock Text="Aktywnych" Style="{StaticResource KpiLabelText}"/>
                                    </StackPanel>
                                    <StackPanel Grid.Column="1">
                                        <StackPanel Orientation="Horizontal">
                                            <Ellipse x:Name="dotFrekwencja" Width="8" Height="8" Fill="#2ECC71" Margin="0,0,6,0" VerticalAlignment="Center"/>
                                            <TextBlock x:Name="txtHrFrekwencja" Text="---" FontSize="16" FontWeight="SemiBold" Foreground="#2ECC71"/>
                                        </StackPanel>
                                        <TextBlock Text="Frekwencja" Style="{StaticResource KpiLabelText}"/>
                                    </StackPanel>
                                </Grid>
                            </StackPanel>
                            <TextBlock x:Name="txtHrError" Foreground="#E74C3C" FontSize="11"
                                       TextWrapping="Wrap" Visibility="Collapsed"/>
                        </StackPanel>
                    </Border>
                </UniformGrid>
            </Grid>
        </ScrollViewer>

        <!-- FOOTER -->
        <Border Grid.Row="2" Background="#1E2228" BorderThickness="0,1,0,0" BorderBrush="#30363D" Padding="24,8">
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <!-- Connection status dots -->
                <StackPanel Grid.Column="0" Orientation="Horizontal" VerticalAlignment="Center">
                    <Ellipse x:Name="dotHandel" Width="8" Height="8" Fill="#8B949E" Margin="0,0,4,0" VerticalAlignment="Center"/>
                    <TextBlock Text="Handel" Foreground="#8B949E" FontSize="10" VerticalAlignment="Center" Margin="0,0,16,0"/>

                    <Ellipse x:Name="dotLibraNet" Width="8" Height="8" Fill="#8B949E" Margin="0,0,4,0" VerticalAlignment="Center"/>
                    <TextBlock Text="LibraNet" Foreground="#8B949E" FontSize="10" VerticalAlignment="Center" Margin="0,0,16,0"/>

                    <Ellipse x:Name="dotTransport" Width="8" Height="8" Fill="#8B949E" Margin="0,0,4,0" VerticalAlignment="Center"/>
                    <TextBlock Text="Transport" Foreground="#8B949E" FontSize="10" VerticalAlignment="Center" Margin="0,0,16,0"/>

                    <Ellipse x:Name="dotUnicard" Width="8" Height="8" Fill="#8B949E" Margin="0,0,4,0" VerticalAlignment="Center"/>
                    <TextBlock Text="Unicard" Foreground="#8B949E" FontSize="10" VerticalAlignment="Center"/>
                </StackPanel>

                <!-- Last update + auto refresh -->
                <StackPanel Grid.Column="1" Orientation="Horizontal" VerticalAlignment="Center">
                    <TextBlock x:Name="txtLastUpdate" Text="Ostatnia aktualizacja: --:--:--" Foreground="#8B949E" FontSize="10" VerticalAlignment="Center" Margin="0,0,16,0"/>
                    <TextBlock Text="Auto-odsw.: 5 min" Foreground="#555" FontSize="10" VerticalAlignment="Center"/>
                </StackPanel>
            </Grid>
        </Border>

        <!-- LOADING OVERLAY -->
        <controls:LoadingOverlay x:Name="loadingOverlay" Grid.RowSpan="3"/>
    </Grid>
</Window>
